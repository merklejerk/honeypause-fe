import{s as Zr,n as dr,o as ti}from"./scheduler.Bmg8oFKD.js";import{S as Yr,i as Kr,e as Z,c as Y,a as te,d as V,o as H,g as oe,y as Qr,p as Gt,s as se,t as ve,u as ni,z as Je,f as ie,b as Pe,v as ri,h as U,w as si,n as ii,l as oi,x as ai,j as Ze}from"./index.Cs9TpTEJ.js";import{_ as ui}from"./preload-helper.BQ24v_F8.js";function zt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const Sn="0x81cb0ba5E7B724B03C8B64A5FAF4f2C655aD15E4",ci="https://eth-sepolia-public.unifra.io",li="5444910";function fi(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const pr=/^tuple(?<array>(\[(\d*)\])*)$/;function gn(e){let t=e.type;if(pr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=gn(i),s<n-1&&(t+=", ")}const r=fi(pr,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,gn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function ot(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=gn(s),r!==n-1&&(t+=", ")}return t}function di(e){return e.type==="function"?`function ${e.name}(${ot(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${ot(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ot(e.inputs)})`:e.type==="error"?`error ${e.name}(${ot(e.inputs)})`:e.type==="constructor"?`constructor(${ot(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function L(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function Ne(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new $i(e.type);return`${e.name}(${Xt(e.inputs,{includeName:t})})`}function Xt(e,{includeName:t=!1}={}){return e?e.map(n=>pi(n,{includeName:t})).join(t?", ":","):""}function pi(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Xt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function ke(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ne(e){return ke(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const hi="2.7.16",bi=e=>e,Ln=e=>e,mi=()=>`viem@${hi}`;class k extends Error{constructor(t,n={}){var i;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:mi()});const r=n.cause instanceof k?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof k&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return es(this,t)}}function es(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?es(e.cause,t):t?null:e}class yi extends k{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class hr extends k{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class ts extends k{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Xt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Jt extends k{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class gi extends k{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class wi extends k{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class vi extends k{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ns extends k{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Pi extends k{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class rs extends k{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class br extends k{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Ut extends k{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class xi extends k{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Ei extends k{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ne(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ne(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Ti extends k{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class ft extends k{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Xt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Zt extends k{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ne(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Ai extends k{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Oi extends k{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Ii extends k{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class $i extends k{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Ci extends k{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class ss extends k{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class is extends k{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class mr extends k{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function tt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Re(e,{dir:t,size:n}):Bi(e,{dir:t,size:n})}function Re(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new is({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Bi(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new is({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class Ni extends k{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ki extends k{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class Fi extends k{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Yt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Te(e,{size:t}){if(ne(e)>t)throw new Fi({givenSize:ne(e),maxSize:t})}function Kt(e,t={}){const{signed:n}=t;t.size&&Te(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Se(e,t={}){return Number(Kt(e,t))}const ji=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ge(e,t={}){return typeof e=="number"||typeof e=="bigint"?W(e,t):typeof e=="string"?as(e,t):typeof e=="boolean"?os(e,t):xe(e,t)}function os(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Te(n,{size:t.size}),tt(n,{size:t.size})):n}function xe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ji[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Te(r,{size:t.size}),tt(r,{dir:"right",size:t.size})):r}function W(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Ni({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?tt(a,{size:r}):a}const Mi=new TextEncoder;function as(e,t={}){const n=Mi.encode(e);return xe(n,t)}const _i=new TextEncoder;function qe(e,t={}){return typeof e=="number"||typeof e=="bigint"?Si(e,t):typeof e=="boolean"?Ri(e,t):ke(e)?Dn(e,t):Ce(e,t)}function Ri(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Te(n,{size:t.size}),tt(n,{size:t.size})):n}const Ie={zero:48,nine:57,A:65,F:70,a:97,f:102};function yr(e){if(e>=Ie.zero&&e<=Ie.nine)return e-Ie.zero;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function Dn(e,t={}){let n=e;t.size&&(Te(n,{size:t.size}),n=tt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=yr(r.charCodeAt(a++)),p=yr(r.charCodeAt(a++));if(c===void 0||p===void 0)throw new k(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+p}return i}function Si(e,t){const n=W(e,t);return Dn(n)}function Ce(e,t={}){const n=_i.encode(e);return typeof t.size=="number"?(Te(n,{size:t.size}),tt(n,{dir:"right",size:t.size})):n}function gr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function us(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function wr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Li(e,t){us(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const jt=BigInt(2**32-1),vr=BigInt(32);function Di(e,t=!1){return t?{h:Number(e&jt),l:Number(e>>vr&jt)}:{h:Number(e>>vr&jt)|0,l:Number(e&jt)|0}}function Gi(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=Di(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const zi=(e,t,n)=>e<<n|t>>>32-n,Ui=(e,t,n)=>t<<n|e>>>32-n,Hi=(e,t,n)=>t<<n-32|e>>>64-n,qi=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vi=e=>e instanceof Uint8Array,Wi=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Xi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Xi)throw new Error("Non little-endian hardware is not supported");function Ji(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function cs(e){if(typeof e=="string"&&(e=Ji(e)),!Vi(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Zi{clone(){return this._cloneInto()}}function Yi(e){const t=r=>e().update(cs(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[ls,fs,ds]=[[],[],[]],Ki=BigInt(0),at=BigInt(1),Qi=BigInt(2),eo=BigInt(7),to=BigInt(256),no=BigInt(113);for(let e=0,t=at,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ls.push(2*(5*r+n)),fs.push((e+1)*(e+2)/2%64);let s=Ki;for(let i=0;i<7;i++)t=(t<<at^(t>>eo)*no)%to,t&Qi&&(s^=at<<(at<<BigInt(i))-at);ds.push(s)}const[ro,so]=Gi(ds,!0),Pr=(e,t,n)=>n>32?Hi(e,t,n):zi(e,t,n),xr=(e,t,n)=>n>32?qi(e,t,n):Ui(e,t,n);function io(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,p=n[c],d=n[c+1],b=Pr(p,d,1)^n[a],g=xr(p,d,1)^n[a+1];for(let I=0;I<50;I+=10)e[o+I]^=b,e[o+I+1]^=g}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=fs[o],c=Pr(s,i,a),p=xr(s,i,a),d=ls[o];s=e[d],i=e[d+1],e[d]=c,e[d+1]=p}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=ro[r],e[1]^=so[r]}n.fill(0)}class Gn extends Zi{constructor(t,n,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gr(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Wi(this.state)}keccak(){io(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){wr(this);const{blockLen:n,state:r}=this;t=cs(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){wr(this,!1),us(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return gr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Li(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new Gn(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const oo=(e,t,n)=>Yi(()=>new Gn(t,e,n)),ao=oo(1,136,256/8);function le(e,t){const n=t||"hex",r=ao(ke(e,{strict:!1})?qe(e):e);return n==="bytes"?r:Ge(r)}const uo=e=>le(qe(e));function co(e){return uo(e)}function lo(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new k("Unable to normalize signature.");return s}const fo=e=>{const t=typeof e=="string"?e:di(e);return lo(t)};function ps(e){return co(fo(e))}const zn=ps;class Ve extends k{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class po extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function hs(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=le(Ce(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());return`0x${s.join("")}`}const ho=/^0x[a-fA-F0-9]{40}$/,cn=new po(8192);function Ee(e,{strict:t=!0}={}){if(cn.has(e))return cn.get(e);const n=ho.test(e)?e.toLowerCase()===e?!0:t?hs(e)===e:!0:!1;return cn.set(e,n),n}function Fe(e){return typeof e[0]=="string"?Un(e):bo(e)}function bo(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Un(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ht(e,t,n,{strict:r}={}){return ke(e,{strict:!1})?mo(e,t,n,{strict:r}):ys(e,t,n,{strict:r})}function bs(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new ss({offset:t,position:"start",size:ne(e)})}function ms(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new ss({offset:n,position:"end",size:ne(e)})}function ys(e,t,n,{strict:r}={}){bs(e,t);const s=e.slice(t,n);return r&&ms(s,t,n),s}function mo(e,t,n,{strict:r}={}){bs(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ms(s,t,n),s}function $t(e,t){if(e.length!==t.length)throw new vi({expectedLength:e.length,givenLength:t.length});const n=yo({params:e,values:t}),r=qn(n);return r.length===0?"0x":r}function yo({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Hn({param:e[r],value:t[r]}));return n}function Hn({param:e,value:t}){const n=Vn(e.type);if(n){const[r,s]=n;return wo(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return To(t,{param:e});if(e.type==="address")return go(t);if(e.type==="bool")return Po(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return xo(t,{signed:r})}if(e.type.startsWith("bytes"))return vo(t,{param:e});if(e.type==="string")return Eo(t);throw new Ai(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function qn(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=ne(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(W(t+s,{size:32})),r.push(a),s+=ne(a)):n.push(a)}return Fe([...n,...r])}function go(e){if(!Ee(e))throw new Ve({address:e});return{dynamic:!1,encoded:Re(e.toLowerCase())}}function wo(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Ii(e);if(!r&&e.length!==t)throw new gi({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Hn({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=qn(i);if(r){const a=W(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Fe([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Fe(i.map(({encoded:o})=>o))}}function vo(e,{param:t}){const[,n]=t.type.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=Re(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Fe([Re(W(r,{size:32})),s])}}if(r!==parseInt(n))throw new wi({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:Re(e,{dir:"right"})}}function Po(e){return{dynamic:!1,encoded:Re(os(e))}}function xo(e,{signed:t}){return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function Eo(e){const t=as(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(Re(Ht(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Fe([Re(W(ne(t),{size:32})),...r])}}function To(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Hn({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?qn(r):Fe(r.map(({encoded:s})=>s))}}function Vn(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Wn=e=>Ht(ps(e),0,4);function Ct(e){const{abi:t,args:n=[],name:r}=e,s=ke(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Wn(a)===r:a.type==="event"?zn(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((p,d)=>{const b="inputs"in a&&a.inputs[d];return b?wn(p,b):!1})){if(o&&"inputs"in o&&o.inputs){const p=gs(a.inputs,o.inputs,n);if(p)throw new Ei({abiItem:a,type:p[0]},{abiItem:o,type:p[1]})}o=a}}return o||i[0]}function wn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ee(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>wn(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>wn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function gs(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return gs(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Ee(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Ee(n[r],{strict:!1}):!1)return o}}const Er="/docs/contract/encodeEventTopics";function Bt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const p=Ct({abi:t,name:n});if(!p)throw new br(n,{docsPath:Er});s=p}if(s.type!=="event")throw new br(void 0,{docsPath:Er});const i=Ne(s),o=zn(i);let a=[];if(r&&"inputs"in s){const p=(c=s.inputs)==null?void 0:c.filter(b=>"indexed"in b&&b.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(p==null?void 0:p.map(b=>r[b.name]))??[]:[];d.length>0&&(a=(p==null?void 0:p.map((b,g)=>Array.isArray(d[g])?d[g].map((I,A)=>Tr({param:b,value:d[g][A]})):d[g]?Tr({param:b,value:d[g]}):null))??[])}return[o,...a]}function Tr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return le(qe(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ci(e.type);return $t([e],[t])}function Qt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function Xn(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,p=Qt(e,{method:"eth_newFilter"}),d=i?Bt({abi:r,args:s,eventName:i}):void 0,b=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?W(o):o,toBlock:typeof c=="bigint"?W(c):c,topics:d}]});return{abi:r,args:s,eventName:i,id:b,request:p(b),strict:!!a,type:"event"}}function Me(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ar="/docs/contract/encodeFunctionData";function ze(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const c=Ct({abi:t,args:n,name:r});if(!c)throw new Ut(r,{docsPath:Ar});s=c}if(s.type!=="function")throw new Ut(void 0,{docsPath:Ar});const i=Ne(s),o=Wn(i),a="inputs"in s&&s.inputs?$t(s.inputs,n??[]):void 0;return Un([o,a??"0x"])}const ws={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ao={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Oo={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Or extends k{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class vs extends k{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class Io extends k{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const $o={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Io({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new vs({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Or({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Or({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Co(e,{recursiveReadLimit:t=8192}={}){const n=Object.create($o);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Bo(e,t={}){typeof t.size<"u"&&Te(e,{size:t.size});const n=xe(e,t);return Kt(n,t)}function No(e,t={}){let n=e;if(typeof t.size<"u"&&(Te(n,{size:t.size}),n=Yt(n)),n.length>1||n[0]>1)throw new ki(n);return!!n[0]}function Be(e,t={}){typeof t.size<"u"&&Te(e,{size:t.size});const n=xe(e,t);return Se(n,t)}function ko(e,t={}){let n=e;return typeof t.size<"u"&&(Te(n,{size:t.size}),n=Yt(n,{dir:"right"})),new TextDecoder().decode(n)}function en(e,t){const n=typeof t=="string"?Dn(t):t,r=Co(n);if(ne(n)===0&&e.length>0)throw new Jt;if(ne(t)&&ne(t)<32)throw new ts({data:typeof t=="string"?t:xe(t),params:e,size:ne(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,p]=Ke(r,a,{staticPosition:0});s+=p,i.push(c)}return i}function Ke(e,t,{staticPosition:n}){const r=Vn(t.type);if(r){const[s,i]=r;return jo(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return So(e,t,{staticPosition:n});if(t.type==="address")return Fo(e);if(t.type==="bool")return Mo(e);if(t.type.startsWith("bytes"))return _o(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ro(e,t);if(t.type==="string")return Lo(e,{staticPosition:n});throw new Oi(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ir=32,vn=32;function Fo(e){const t=e.readBytes(32);return[hs(xe(ys(t,-20))),32]}function jo(e,t,{length:n,staticPosition:r}){if(!n){const o=Be(e.readBytes(vn)),a=r+o,c=a+Ir;e.setPosition(a);const p=Be(e.readBytes(Ir)),d=dt(t);let b=0;const g=[];for(let I=0;I<p;++I){e.setPosition(c+(d?I*32:b));const[A,O]=Ke(e,t,{staticPosition:c});b+=O,g.push(A)}return e.setPosition(r+32),[g,32]}if(dt(t)){const o=Be(e.readBytes(vn)),a=r+o,c=[];for(let p=0;p<n;++p){e.setPosition(a+p*32);const[d]=Ke(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Ke(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Mo(e){return[No(e.readBytes(32),{size:32}),32]}function _o(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Be(e.readBytes(32));e.setPosition(n+o);const a=Be(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[xe(c),32]}return[xe(e.readBytes(parseInt(s),32)),32]}function Ro(e,t){const n=t.type.startsWith("int"),r=parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Bo(s,{signed:n}):Be(s,{signed:n}),32]}function So(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(dt(t)){const o=Be(e.readBytes(vn)),a=n+o;for(let c=0;c<t.components.length;++c){const p=t.components[c];e.setPosition(a+i);const[d,b]=Ke(e,p,{staticPosition:a});i+=b,s[r?c:p==null?void 0:p.name]=d}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,p]=Ke(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=p}return[s,i]}function Lo(e,{staticPosition:t}){const n=Be(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Be(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=ko(Yt(i));return e.setPosition(t+32),[o,32]}function dt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(dt);const n=Vn(e.type);return!!(n&&dt({...e,type:n[1]}))}function Do(e){const{abi:t,data:n}=e,r=Ht(n,0,4);if(r==="0x")throw new Jt;const i=[...t||[],Ao,Oo].find(o=>o.type==="error"&&r===Wn(Ne(o)));if(!i)throw new ns(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?en(i.inputs,Ht(n,4)):void 0,errorName:i.name}}const be=(e,t,n)=>JSON.stringify(e,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,i):i},n);function Ps({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?be(t[i]):t[i]}`).join(", ")})`}const Go={gwei:9,wei:18},zo={ether:-9,wei:9};function xs(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Jn(e,t="wei"){return xs(e,Go[t])}function fe(e,t="wei"){return xs(e,zo[t])}class Uo extends k{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class Ho extends k{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function $r(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function qo(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=$r(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=$r(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Nt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Vo extends k{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Wo extends k{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Nt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Xo extends k{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:p,nonce:d,to:b,value:g}){var A;const I=Nt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:b,value:typeof g<"u"&&`${Jn(g)} ${((A=s==null?void 0:s.nativeCurrency)==null?void 0:A.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${fe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${fe(c)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${fe(p)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",I].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Es extends k{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Ts extends k{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Jo extends k{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class As extends k{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:p,nonce:d,to:b,value:g,stateOverride:I}){var C;const A=n?Me(n):void 0;let O=Nt({from:A==null?void 0:A.address,to:b,value:typeof g<"u"&&`${Jn(g)} ${((C=s==null?void 0:s.nativeCurrency)==null?void 0:C.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${fe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${fe(c)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${fe(p)} gwei`,nonce:d});I&&(O+=`
${qo(I)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",O].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Zo extends k{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Ct({abi:n,args:r,name:o}),p=c?Ps({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Ne(c,{includeName:!0}):void 0,b=Nt({address:s&&bi(s),function:d,args:p&&p!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${p}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",b].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class Pn extends k{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Do({abi:t,data:n});const{abiItem:d,errorName:b,args:g}=o;if(b==="Error")c=g[0];else if(b==="Panic"){const[I]=g;c=ws[I]}else{const I=d?Ne(d,{includeName:!0}):void 0,A=d&&g?Ps({abiItem:d,args:g,includeFunctionName:!1,includeName:!1}):void 0;a=[I?`Error: ${I}`:"",A&&A!=="()"?`       ${[...Array((b==null?void 0:b.length)??0).keys()].map(()=>" ").join("")}${A}`:""]}}catch(d){i=d}else s&&(c=s);let p;i instanceof ns&&(p=i.signature,a=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(c&&c!=="execution reverted"||p?[`The contract function "${r}" reverted with the following ${p?"signature":"reason"}:`,c||p].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=p}}class Yo extends k{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Zn extends k{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class lt extends k{constructor({body:t,details:n,headers:r,status:s,url:i}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Ln(i)}`,t&&`Request body: ${be(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=i}}class Os extends k{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ln(r)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Cr extends k{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ln(n)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Ko=-1;class de extends k{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Os?t.code:n??Ko}}class nt extends de{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class pt extends de{constructor(t){super(t,{code:pt.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ht extends de{constructor(t){super(t,{code:ht.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class bt extends de{constructor(t){super(t,{code:bt.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class mt extends de{constructor(t){super(t,{code:mt.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class We extends de{constructor(t){super(t,{code:We.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(We,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Xe extends de{constructor(t){super(t,{code:Xe.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class yt extends de{constructor(t){super(t,{code:yt.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class gt extends de{constructor(t){super(t,{code:gt.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class wt extends de{constructor(t){super(t,{code:wt.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class vt extends de{constructor(t){super(t,{code:vt.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class et extends de{constructor(t){super(t,{code:et.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Pt extends de{constructor(t){super(t,{code:Pt.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Qe extends nt{constructor(t){super(t,{code:Qe.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class xt extends nt{constructor(t){super(t,{code:xt.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Et extends nt{constructor(t){super(t,{code:Et.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Tt extends nt{constructor(t){super(t,{code:Tt.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class At extends nt{constructor(t){super(t,{code:At.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ot extends nt{constructor(t){super(t,{code:Ot.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Qo extends de{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const ea=3;function It(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const{code:a,data:c,message:p,shortMessage:d}=e instanceof Zn?e:e instanceof k?e.walk(g=>"data"in g)||e.walk():{},b=e instanceof Jt?new Yo({functionName:i}):[ea,We.code].includes(a)&&(c||p||d)?new Pn({abi:t,data:typeof c=="object"?c.data:c,functionName:i,message:d??p}):e;return new Zo(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}class ta extends k{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:p,nonce:d,to:b,value:g}){var A;const I=Nt({from:n==null?void 0:n.address,to:b,value:typeof g<"u"&&`${Jn(g)} ${((A=s==null?void 0:s.nativeCurrency)==null?void 0:A.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${fe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${fe(c)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${fe(p)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",I].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Ye extends k{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Ye,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ye,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class qt extends k{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${fe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(qt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class xn extends k{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${fe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(xn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class En extends k{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(En,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Tn extends k{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Tn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class An extends k{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(An,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class On extends k{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(On,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class In extends k{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(In,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class $n extends k{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty($n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Cn extends k{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Cn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Vt extends k{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${fe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${fe(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Vt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class tn extends k{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Yn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof k?e.walk(s=>s.code===Ye.code):e;return r instanceof k?new Ye({cause:e,message:r.details}):Ye.nodeMessage.test(n)?new Ye({cause:e,message:e.details}):qt.nodeMessage.test(n)?new qt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):xn.nodeMessage.test(n)?new xn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):En.nodeMessage.test(n)?new En({cause:e,nonce:t==null?void 0:t.nonce}):Tn.nodeMessage.test(n)?new Tn({cause:e,nonce:t==null?void 0:t.nonce}):An.nodeMessage.test(n)?new An({cause:e,nonce:t==null?void 0:t.nonce}):On.nodeMessage.test(n)?new On({cause:e}):In.nodeMessage.test(n)?new In({cause:e,gas:t==null?void 0:t.gas}):$n.nodeMessage.test(n)?new $n({cause:e,gas:t==null?void 0:t.gas}):Cn.nodeMessage.test(n)?new Cn({cause:e}):Vt.nodeMessage.test(n)?new Vt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new tn({cause:e})}function na(e,{docsPath:t,...n}){const r=(()=>{const s=Yn(e,n);return s instanceof tn?e:s})();return new ta(r,{docsPath:t,...n})}function Kn(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}const ra={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Qn(e){return{...e,gas:typeof e.gas<"u"?W(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?W(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?W(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?W(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?W(e.nonce):void 0,type:typeof e.type<"u"?ra[e.type]:void 0,value:typeof e.value<"u"?W(e.value):void 0}}function nn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?Me(t):void 0;if(o&&!Ee(o.address))throw new Ve({address:o.address});if(i&&!Ee(i))throw new Ve({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Vo;if(r&&r>2n**256n-1n)throw new qt({maxFeePerGas:r});if(s&&r&&s>r)throw new Vt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class sa extends k{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class er extends k{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class ia extends k{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${fe(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Is extends k{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const $s={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Cs(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Se(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Se(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?$s[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Bs(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Cs(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Le(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,b,g;const i=r??"latest",o=s??!1,a=n!==void 0?W(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[a||i,o]}),!c)throw new Is({blockHash:t,blockNumber:n});return(((g=(b=(d=e.chain)==null?void 0:d.formatters)==null?void 0:b.block)==null?void 0:g.format)||Bs)(c)}async function tr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function oa(e,t){return Ns(e,t)}async function Ns(e,t){var i,o,a;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee)=="function"){const c=n||await L(e,Le,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Kt(c)}catch{const[c,p]=await Promise.all([n?Promise.resolve(n):L(e,Le,"getBlock")({}),L(e,tr,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new er;const d=p-c.baseFeePerGas;return d<0n?0n:d}}async function aa(e,t){return Bn(e,t)}async function Bn(e,t){var g,I;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var A,O;return typeof((A=r==null?void 0:r.fees)==null?void 0:A.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((O=r==null?void 0:r.fees)==null?void 0:O.baseFeeMultiplier)??1.2})();if(o<1)throw new sa;const c=10**(((g=o.toString().split(".")[1])==null?void 0:g.length)??0),p=A=>A*BigInt(Math.ceil(o*c))/BigInt(c),d=n||await L(e,Le,"getBlock")({});if(typeof((I=r==null?void 0:r.fees)==null?void 0:I.estimateFeesPerGas)=="function")return r.fees.estimateFeesPerGas({block:n,client:e,multiply:p,request:s,type:i});if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new er;const A=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Ns(e,{block:d,chain:r,request:s}),O=p(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??O+A,maxPriorityFeePerGas:A}}return{gasPrice:(s==null?void 0:s.gasPrice)??p(await L(e,tr,"getGasPrice")({}))}}async function ks(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?W(r):n]});return Se(s)}class ua extends k{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function ca(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Wo({transaction:e})}async function nr(e,t){const{account:n=e.account,chain:r,gas:s,nonce:i,parameters:o=["fees","gas","nonce","type"],type:a}=t,c=n?Me(n):void 0,p=await L(e,Le,"getBlock")({blockTag:"latest"}),d={...t,...c?{from:c==null?void 0:c.address}:{}};if(o.includes("nonce")&&typeof i>"u"&&c&&(d.nonce=await L(e,ks,"getTransactionCount")({address:c.address,blockTag:"pending"})),(o.includes("fees")||o.includes("type"))&&typeof a>"u")try{d.type=ca(d)}catch{d.type=typeof p.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(o.includes("fees"))if(d.type==="eip1559"){const{maxFeePerGas:b,maxPriorityFeePerGas:g}=await Bn(e,{block:p,chain:r,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new ia({maxPriorityFeePerGas:g});d.maxPriorityFeePerGas=g,d.maxFeePerGas=b}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new er;const{gasPrice:b}=await Bn(e,{block:p,chain:r,request:d,type:"legacy"});d.gasPrice=b}return o.includes("gas")&&typeof s>"u"&&(d.gas=await L(e,rr,"estimateGas")({...d,account:c?{address:c.address,type:"json-rpc"}:void 0})),nn(d),delete d.parameters,d}async function rr(e,t){var s,i,o;const n=t.account??e.account,r=n?Me(n):void 0;try{const{accessList:a,blockNumber:c,blockTag:p,data:d,gas:b,gasPrice:g,maxFeePerGas:I,maxPriorityFeePerGas:A,nonce:O,to:C,value:B,...T}=(r==null?void 0:r.type)==="local"?await nr(e,t):t,_=(c?W(c):void 0)||p;nn(t);const S=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,N=(S||Qn)({...Kn(T,{format:S}),from:r==null?void 0:r.address,accessList:a,data:d,gas:b,gasPrice:g,maxFeePerGas:I,maxPriorityFeePerGas:A,nonce:O,to:C,value:B}),u=await e.request({method:"eth_estimateGas",params:_?[N,_]:[N]});return BigInt(u)}catch(a){throw na(a,{...t,account:r,chain:e.chain})}}async function Fs(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=ze({abi:n,args:s,functionName:i});try{return await L(e,rr,"estimateGas")({data:a,to:r,...o})}catch(c){const p=o.account?Me(o.account):void 0;throw It(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:p==null?void 0:p.address})}}const Br="/docs/contract/decodeEventLog";function rn(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new Pi({docsPath:Br});const c=t.find(O=>O.type==="event"&&o===zn(Ne(O)));if(!(c&&"name"in c)||c.type!=="event")throw new rs(o,{docsPath:Br});const{name:p,inputs:d}=c,b=d==null?void 0:d.some(O=>!("name"in O&&O.name));let g=b?[]:{};const I=d.filter(O=>"indexed"in O&&O.indexed);for(let O=0;O<I.length;O++){const C=I[O],B=a[O];if(!B)throw new Zt({abiItem:c,param:C});g[C.name||O]=la({param:C,value:B})}const A=d.filter(O=>!("indexed"in O&&O.indexed));if(A.length>0){if(n&&n!=="0x")try{const O=en(A,n);if(O)if(b)g=[...g,...O];else for(let C=0;C<A.length;C++)g[A[C].name]=O[C]}catch(O){if(i)throw O instanceof ts||O instanceof vs?new ft({abiItem:c,data:n,params:A,size:ne(n)}):O}else if(i)throw new ft({abiItem:c,data:"0x",params:A,size:0})}return{eventName:p,args:Object.values(g).length>0?g:void 0}}function la({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(en([e],t)||[])[0]}function sr({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var i;try{const o=rn({...s,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...s}}catch(o){let a,c;if(o instanceof rs)return null;if(o instanceof ft||o instanceof Zt){if(r)return null;a=o.abiItem.name,c=(i=o.abiItem.inputs)==null?void 0:i.some(p=>!("name"in p&&p.name))}return{...s,args:c?[]:{},eventName:a}}}).filter(Boolean)}function De(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function ir(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const p=c??!1,d=o??(i?[i]:void 0);let b=[];d&&(b=[d.flatMap(A=>Bt({abi:[A],eventName:A.name,args:a}))],i&&(b=b[0]));let g;n?g=await e.request({method:"eth_getLogs",params:[{address:t,topics:b,blockHash:n}]}):g=await e.request({method:"eth_getLogs",params:[{address:t,topics:b,fromBlock:typeof r=="bigint"?W(r):r,toBlock:typeof s=="bigint"?W(s):s}]});const I=g.map(A=>De(A));return d?sr({abi:d,logs:I,strict:p}):I}async function or(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:p}=t,d=o?Ct({abi:n,name:o}):void 0,b=d?void 0:n.filter(g=>g.type==="event");return L(e,ir,"getLogs")({address:r,args:s,blockHash:i,event:d,events:b,fromBlock:a,toBlock:c,strict:p})}const ln="/docs/contract/decodeFunctionResult";function rt(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Ct({abi:t,args:n,name:r});if(!a)throw new Ut(r,{docsPath:ln});i=a}if(i.type!=="function")throw new Ut(void 0,{docsPath:ln});if(!i.outputs)throw new xi(i.name,{docsPath:ln});const o=en(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Nn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],js=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Ms=[...js,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],fa=[...js,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Nr=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],kr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],da=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],pa="0x82ad56cb";class kn extends k{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ha extends k{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ba extends k{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class _s extends k{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function st({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new kn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new kn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ma(e,{docsPath:t,...n}){const r=(()=>{const s=Yn(e,n);return s instanceof tn?e:s})();return new As(r,{docsPath:t,...n})}const fn=new Map;function Rs({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=c();o();const b=d.map(({args:g})=>g);b.length!==0&&e(b).then(g=>{var I;s&&Array.isArray(g)&&g.sort(s);for(let A=0;A<d.length;A++){const{pendingPromise:O}=d[A];(I=O.resolve)==null||I.call(O,[g[A],g])}}).catch(g=>{var I;for(let A=0;A<d.length;A++){const{pendingPromise:O}=d[A];(I=O.reject)==null||I.call(O,g)}})},o=()=>fn.delete(t),a=()=>c().map(({args:d})=>d),c=()=>fn.get(t)||[],p=d=>fn.set(t,[...c(),d]);return{flush:o,async schedule(d){const b={},g=new Promise((O,C)=>{b.resolve=O,b.reject=C});return(n==null?void 0:n([...a(),d]))&&i(),c().length>0?(p({args:d,pendingPromise:b}),g):(p({args:d,pendingPromise:b}),setTimeout(i,r),g)}}}async function sn(e,t){var T,j,_,S;const{account:n=e.account,batch:r=!!((T=e.batch)!=null&&T.multicall),blockNumber:s,blockTag:i="latest",accessList:o,data:a,gas:c,gasPrice:p,maxFeePerGas:d,maxPriorityFeePerGas:b,nonce:g,to:I,value:A,stateOverride:O,...C}=t,B=n?Me(n):void 0;try{nn(t);const N=(s?W(s):void 0)||i,u=Pa(O),l=(S=(_=(j=e.chain)==null?void 0:j.formatters)==null?void 0:_.transactionRequest)==null?void 0:S.format,P=(l||Qn)({...Kn(C,{format:l}),from:B==null?void 0:B.address,accessList:o,data:a,gas:c,gasPrice:p,maxFeePerGas:d,maxPriorityFeePerGas:b,nonce:g,to:I,value:A});if(r&&ya({request:P})&&!u)try{return await ga(e,{...P,blockNumber:s,blockTag:i})}catch(w){if(!(w instanceof _s)&&!(w instanceof kn))throw w}const m=await e.request({method:"eth_call",params:u?[P,N,u]:[P,N]});return m==="0x"?{data:void 0}:{data:m}}catch(M){const N=wa(M),{offchainLookup:u,offchainLookupSignature:l}=await ui(()=>import("./ccip.B4_Y-uuS.js"),__vite__mapDeps([]),import.meta.url);if((N==null?void 0:N.slice(0,10))===l&&I)return{data:await u(e,{data:N,to:I})};throw ma(M,{...t,account:B,chain:e.chain})}}function ya({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(pa)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function ga(e,t){var O;const{batchSize:n=1024,wait:r=0}=typeof((O=e.batch)==null?void 0:O.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=t;let p=a;if(!p){if(!e.chain)throw new _s;p=st({blockNumber:s,chain:e.chain,contract:"multicall3"})}const b=(s?W(s):void 0)||i,{schedule:g}=Rs({id:`${e.uid}.${b}`,wait:r,shouldSplitBatch(C){return C.reduce((T,{data:j})=>T+(j.length-2),0)>n*2},fn:async C=>{const B=C.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),T=ze({abi:Nn,args:[B],functionName:"aggregate3"}),j=await e.request({method:"eth_call",params:[{data:T,to:p},b]});return rt({abi:Nn,args:[B],functionName:"aggregate3",data:j||"0x"})}}),[{returnData:I,success:A}]=await g({data:o,to:c});if(!A)throw new Zn({data:I});return I==="0x"?{data:void 0}:{data:I}}function wa(e){if(!(e instanceof k))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}function Fr(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new mr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new mr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function va(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=W(t,{size:32})),n!==void 0&&(o.nonce=W(n,{size:8})),r!==void 0&&(o.state=Fr(r)),s!==void 0){if(o.state)throw new Ho;o.stateDiff=Fr(s)}return o}function Pa(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Ee(n,{strict:!1}))throw new Ve({address:n});if(t[n])throw new Uo({address:n});t[n]=va(r)}return t}async function je(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=ze({abi:n,args:s,functionName:i});try{const{data:c}=await L(e,sn,"call")({...o,data:a,to:r});return rt({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw It(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function Ss(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?Me(a.account):e.account,p=ze({abi:n,args:s,functionName:o});try{const{data:d}=await L(e,sn,"call")({batch:!1,data:`${p}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),b=rt({abi:n,args:s,functionName:o,data:d||"0x"}),g=n.filter(I=>"name"in I&&I.name===t.functionName);return{result:b,request:{abi:g,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(d){throw It(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const dn=new Map,jr=new Map;let xa=0;function it(e,t,n){const r=++xa,s=()=>dn.get(e)||[],i=()=>{const d=s();dn.set(e,d.filter(b=>b.id!==r))},o=()=>{const d=jr.get(e);s().length===1&&d&&d(),i()},a=s();if(dn.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const d in t)c[d]=(...b)=>{var I,A;const g=s();if(g.length!==0)for(const O of g)(A=(I=O.fns)[d])==null||A.call(I,...b)};const p=n(c);return typeof p=="function"&&jr.set(e,p),o}async function Fn(e){return new Promise(t=>setTimeout(t,e))}function kt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await Fn(c);const p=async()=>{s&&(await e({unpoll:i}),await Fn(r),p())};p()})(),i}const Ea=new Map,Ta=new Map;function Aa(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,Ea),r=t(e,Ta);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Oa(e,{cacheKey:t,cacheTime:n=1/0}){const r=Aa(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Ia=e=>`blockNumber.${e}`;async function Ft(e,{cacheTime:t=e.cacheTime}={}){const n=await Oa(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ia(e.uid),cacheTime:t});return BigInt(n)}async function on(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>De(i));return!("abi"in t)||!t.abi?s:sr({abi:t.abi,logs:s,strict:n})}async function an(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ls(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,onError:a,onLogs:c,poll:p,pollingInterval:d=e.pollingInterval,strict:b}=t;return(typeof p<"u"?p:e.transport.type!=="webSocket")?(()=>{const O=be(["watchContractEvent",r,s,i,e.uid,o,d]),C=b??!1;return it(O,{onLogs:c,onError:a},B=>{let T,j,_=!1;const S=kt(async()=>{var M;if(!_){try{j=await L(e,Xn,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:C})}catch{}_=!0;return}try{let N;if(j)N=await L(e,on,"getFilterChanges")({filter:j});else{const u=await L(e,Ft,"getBlockNumber")({});T&&T!==u?N=await L(e,or,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:T+1n,toBlock:u,strict:C}):N=[],T=u}if(N.length===0)return;if(i)B.onLogs(N);else for(const u of N)B.onLogs([u])}catch(N){j&&N instanceof Xe&&(_=!1),(M=B.onError)==null||M.call(B,N)}},{emitOnBegin:!0,interval:d});return async()=>{j&&await L(e,an,"uninstallFilter")({filter:j}),S()}})})():(()=>{let O=!0,C=()=>O=!1;return(async()=>{try{const B=o?Bt({abi:n,eventName:o,args:s}):[],{unsubscribe:T}=await e.transport.subscribe({params:["logs",{address:r,topics:B}],onData(j){var S;if(!O)return;const _=j.result;try{const{eventName:M,args:N}=rn({abi:n,data:_.data,topics:_.topics,strict:b}),u=De(_,{args:N,eventName:M});c([u])}catch(M){let N,u;if(M instanceof ft||M instanceof Zt){if(b)return;N=M.abiItem.name,u=(S=M.abiItem.inputs)==null?void 0:S.some(f=>!("name"in f&&f.name))}const l=De(_,{args:u?[]:{},eventName:N});c([l])}},onError(j){a==null||a(j)}});C=T,O||C()}catch(B){a==null||a(B)}})(),C})()}function $a({chain:e,currentChainId:t}){if(!e)throw new ba;if(t!==e.id)throw new ha({chain:e,currentChainId:t})}function Ca(e,{docsPath:t,...n}){const r=(()=>{const s=Yn(e,n);return s instanceof tn?e:s})();return new Xo(r,{docsPath:t,...n})}async function jn(e){const t=await e.request({method:"eth_chainId"});return Se(t)}async function Ds(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function Ba(e,t){var O,C,B,T;const{account:n=e.account,chain:r=e.chain,accessList:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:p,nonce:d,to:b,value:g,...I}=t;if(!n)throw new ua({docsPath:"/docs/actions/wallet/sendTransaction"});const A=Me(n);try{nn(t);let j;if(r!==null&&(j=await L(e,jn,"getChainId")({}),$a({currentChainId:j,chain:r})),A.type==="local"){const N=await L(e,nr,"prepareTransactionRequest")({account:A,accessList:s,chain:r,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:p,nonce:d,to:b,value:g,...I});j||(j=await L(e,jn,"getChainId")({}));const u=(O=r==null?void 0:r.serializers)==null?void 0:O.transaction,l=await A.signTransaction({...N,chainId:j},{serializer:u});return await L(e,Ds,"sendRawTransaction")({serializedTransaction:l})}const _=(T=(B=(C=e.chain)==null?void 0:C.formatters)==null?void 0:B.transactionRequest)==null?void 0:T.format,M=(_||Qn)({...Kn(I,{format:_}),accessList:s,data:i,from:A.address,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:p,nonce:d,to:b,value:g});return await e.request({method:"eth_sendTransaction",params:[M]},{retryCount:0})}catch(j){throw Ca(j,{...t,account:A,chain:t.chain||void 0})}}async function Na(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=ze({abi:n,args:s,functionName:o});return L(e,Ba,"sendTransaction")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}function Gs({abi:e,address:t,client:n}){const r=n,[s,i]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,a=i!=null,c={};let p=!1,d=!1,b=!1;for(const g of e)if(g.type==="function"?g.stateMutability==="view"||g.stateMutability==="pure"?p=!0:d=!0:g.type==="event"&&(b=!0),p&&d&&b)break;return o&&(p&&(c.read=new Proxy({},{get(g,I){return(...A)=>{const{args:O,options:C}=Mt(A);return L(s,je,"readContract")({abi:e,address:t,functionName:I,args:O,...C})}}})),d&&(c.simulate=new Proxy({},{get(g,I){return(...A)=>{const{args:O,options:C}=Mt(A);return L(s,Ss,"simulateContract")({abi:e,address:t,functionName:I,args:O,...C})}}})),b&&(c.createEventFilter=new Proxy({},{get(g,I){return(...A)=>{const O=e.find(T=>T.type==="event"&&T.name===I),{args:C,options:B}=pn(A,O);return L(s,Xn,"createContractEventFilter")({abi:e,address:t,eventName:I,args:C,...B})}}}),c.getEvents=new Proxy({},{get(g,I){return(...A)=>{const O=e.find(T=>T.type==="event"&&T.name===I),{args:C,options:B}=pn(A,O);return L(s,or,"getContractEvents")({abi:e,address:t,eventName:I,args:C,...B})}}}),c.watchEvent=new Proxy({},{get(g,I){return(...A)=>{const O=e.find(T=>T.type==="event"&&T.name===I),{args:C,options:B}=pn(A,O);return L(s,Ls,"watchContractEvent")({abi:e,address:t,eventName:I,args:C,...B})}}}))),a&&d&&(c.write=new Proxy({},{get(g,I){return(...A)=>{const{args:O,options:C}=Mt(A);return L(i,Na,"writeContract")({abi:e,address:t,functionName:I,args:O,...C})}}})),(o||a)&&d&&(c.estimateGas=new Proxy({},{get(g,I){return(...A)=>{const{args:O,options:C}=Mt(A);return L(s??i,Fs,"estimateContractGas")({abi:e,address:t,functionName:I,args:O,...C,account:C.account??i.account})}}})),c.address=t,c.abi=e,c}function Mt(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function pn(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(i=>i.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}const Mn=256;let _t=Mn,Rt;function ka(e=11){if(!Rt||_t+e>Mn*2){Rt="",_t=0;for(let t=0;t<Mn;t++)Rt+=(256+Math.random()*256|0).toString(16).substring(1)}return Rt.substring(_t,_t+++e)}function Fa(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:i=4e3,type:o="base"}=e,a=e.chain,c=e.account?Me(e.account):void 0,{config:p,request:d,value:b}=e.transport({chain:a,pollingInterval:i}),g={...p,...b},I={account:c,batch:t,cacheTime:n,chain:a,key:r,name:s,pollingInterval:i,request:d,transport:g,type:o,uid:ka()};function A(O){return C=>{const B=C(O);for(const j in I)delete B[j];const T={...O,...B};return Object.assign(T,{extend:A(T)})}}return Object.assign(I,{extend:A(I)})}function _n(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:p})=>{const d=typeof t=="function"?t({count:a,error:p}):t;d&&await Fn(d),o({count:a+1})};try{const p=await e();s(p)}catch(p){if(a<n&&await r({count:a,error:p}))return c({error:p});i(p)}};o()})}function ja(e,t={}){return async(n,r={})=>{const{retryDelay:s=150,retryCount:i=3}={...t,...r};return _n(async()=>{try{return await e(n)}catch(o){const a=o;switch(a.code){case pt.code:throw new pt(a);case ht.code:throw new ht(a);case bt.code:throw new bt(a);case mt.code:throw new mt(a);case We.code:throw new We(a);case Xe.code:throw new Xe(a);case yt.code:throw new yt(a);case gt.code:throw new gt(a);case wt.code:throw new wt(a);case vt.code:throw new vt(a);case et.code:throw new et(a);case Pt.code:throw new Pt(a);case Qe.code:throw new Qe(a);case xt.code:throw new xt(a);case Et.code:throw new Et(a);case Tt.code:throw new Tt(a);case At.code:throw new At(a);case Ot.code:throw new Ot(a);case 5e3:throw new Qe(a);default:throw o instanceof k?o:new Qo(a)}}},{delay:({count:o,error:a})=>{var c;if(a&&a instanceof lt){const p=(c=a==null?void 0:a.headers)==null?void 0:c.get("Retry-After");if(p!=null&&p.match(/\d/))return parseInt(p)*1e3}return~~(1<<o)*s},retryCount:i,shouldRetry:({error:o})=>Ma(o)})}}function Ma(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===et.code||e.code===We.code:e instanceof lt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function _a({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:o},request:ja(n,{retryCount:r,retryDelay:s}),value:a}}class Ra extends k{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Sa(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:a==null?void 0:a.signal}))}catch(a){a.name==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function La(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Mr=La();function Da(e,t={}){return{async request(n){var p;const{body:r,fetchOptions:s={},timeout:i=t.timeout??1e4}=n,{headers:o,method:a,signal:c}={...t.fetchOptions,...s};try{const d=await Sa(async({signal:g})=>await fetch(e,{...s,body:Array.isArray(r)?be(r.map(A=>({jsonrpc:"2.0",id:A.id??Mr.take(),...A}))):be({jsonrpc:"2.0",id:r.id??Mr.take(),...r}),headers:{...o,"Content-Type":"application/json"},method:a||"POST",signal:c||(i>0?g:void 0)}),{errorInstance:new Cr({body:r,url:e}),timeout:i,signal:!0});let b;if((p=d.headers.get("Content-Type"))!=null&&p.startsWith("application/json")?b=await d.json():b=await d.text(),!d.ok)throw new lt({body:r,details:be(b.error)||d.statusText,headers:d.headers,status:d.status,url:e});return b}catch(d){throw d instanceof lt||d instanceof Cr?d:new lt({body:r,details:d.message,url:e})}}}}function Ga(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",retryDelay:o}=t;return({chain:a,retryCount:c,timeout:p})=>{const{batchSize:d=1e3,wait:b=0}=typeof n=="object"?n:{},g=t.retryCount??c,I=p??t.timeout??1e4,A=e||(a==null?void 0:a.rpcUrls.default.http[0]);if(!A)throw new Ra;const O=Da(A,{fetchOptions:r,timeout:I});return _a({key:s,name:i,async request({method:C,params:B}){const T={method:C,params:B},{schedule:j}=Rs({id:`${e}`,wait:b,shouldSplitBatch(N){return N.length>d},fn:N=>O.request({body:N}),sort:(N,u)=>N.id-u.id}),_=async N=>n?j(N):[await O.request({body:N})],[{error:S,result:M}]=await _(T);if(S)throw new Os({body:T,error:S,url:A});return M},retryCount:g,retryDelay:o,timeout:I,type:"http"},{fetchOptions:r,url:A})}}function ar(e,t){var r,s,i,o,a,c;if(!(e instanceof k))return!1;const n=e.walk(p=>p instanceof Pn);return n instanceof Pn?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===ws[50]):!1}function zs(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return ke(t)?t:null}function Dt(e){let t=new Uint8Array(32).fill(0);if(!e)return xe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=zs(n[r]),i=s?qe(s):le(Ce(n[r]),"bytes");t=le(Fe([t,i]),"bytes")}return xe(t)}function za(e){return`[${e.slice(2)}]`}function Ua(e){const t=new Uint8Array(32).fill(0);return e?zs(e)||le(Ce(e)):xe(t)}function un(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ce(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=Ce(s[i]);o.byteLength>255&&(o=Ce(za(Ua(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Ha(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=st({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const p=ze({abi:kr,functionName:"addr",...r!=null?{args:[Dt(s),BigInt(r)]}:{args:[Dt(s)]}}),d={address:c,abi:Ms,functionName:"resolve",args:[Ge(un(s)),p],blockNumber:t,blockTag:n},b=L(e,je,"readContract"),g=i?await b({...d,args:[...d.args,i]}):await b(d);if(g[0]==="0x")return null;const I=rt({abi:kr,args:r!=null?[Dt(s),BigInt(r)]:void 0,functionName:"addr",data:g[0]});return I==="0x"||Yt(I)==="0x00"?null:I}catch(p){if(o)throw p;if(ar(p,"resolve"))return null;throw p}}class qa extends k{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class ut extends k{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class ur extends k{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Va extends k{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Wa=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Xa=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ja=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Za=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ya(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function _r(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Us({uri:e,gatewayUrls:t}){const n=Ja.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=_r(t==null?void 0:t.ipfs,"https://ipfs.io"),s=_r(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(Wa),{protocol:o,subpath:a,target:c,subtarget:p=""}=(i==null?void 0:i.groups)||{},d=o==="ipns:/"||a==="ipns/",b=o==="ipfs:/"||a==="ipfs/"||Xa.test(e);if(e.startsWith("http")&&!d&&!b){let I=e;return t!=null&&t.arweave&&(I=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:I,isOnChain:!1,isEncoded:!1}}if((d||b)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${p}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${p||""}`,isOnChain:!1,isEncoded:!1};let g=e.replace(Za,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new ur({uri:e})}function Hs(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new qa({data:e});return e.image||e.image_url||e.image_data}async function Ka({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await cr({gatewayUrls:e,uri:Hs(n)})}catch{throw new ur({uri:t})}}async function cr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Us({uri:t,gatewayUrls:e});if(r||await Ya(n))return n;throw new ur({uri:t})}function Qa(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new ut({reason:"Only EIP-155 supported"});if(!o)throw new ut({reason:"Chain ID not found"});if(!c)throw new ut({reason:"Contract address not found"});if(!s)throw new ut({reason:"Token ID not found"});if(!a)throw new ut({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function eu(e,{nft:t}){if(t.namespace==="erc721")return je(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return je(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Va({namespace:t.namespace})}async function tu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?nu(e,{gatewayUrls:t,record:n}):cr({uri:n,gatewayUrls:t})}async function nu(e,{gatewayUrls:t,record:n}){const r=Qa(n),s=await eu(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=Us({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const p=a?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(p);return cr({uri:Hs(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Ka({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function qs(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=st({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const p={address:c,abi:Ms,functionName:"resolve",args:[Ge(un(r)),ze({abi:Nr,functionName:"text",args:[Dt(r),s]})],blockNumber:t,blockTag:n},d=L(e,je,"readContract"),b=i?await d({...p,args:[...p.args,i]}):await d(p);if(b[0]==="0x")return null;const g=rt({abi:Nr,functionName:"text",data:b[0]});return g===""?null:g}catch(p){if(o)throw p;if(ar(p,"resolve"))return null;throw p}}async function ru(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await L(e,qs,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await tu(e,{record:c,gatewayUrls:r})}catch{return null}}async function su(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=st({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const p={address:a,abi:fa,functionName:"reverse",args:[Ge(un(c))],blockNumber:n,blockTag:r},d=L(e,je,"readContract"),[b,g]=s?await d({...p,args:[...p.args,s]}):await d(p);return t.toLowerCase()!==g.toLowerCase()?null:b}catch(p){if(i)throw p;if(ar(p,"reverse"))return null;throw p}}async function iu(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=st({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await L(e,je,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ge(un(r))],blockNumber:t,blockTag:n});return o}async function ou(e){const t=Qt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Vs(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),p=Qt(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(g=>Bt({abi:[g],eventName:g.name,args:n}))],r&&(d=d[0]));const b=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?W(i):i,toBlock:typeof a=="bigint"?W(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:b,request:p(b),strict:!!o,toBlock:a,type:"event"}}async function Ws(e){const t=Qt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function au(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?W(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function uu(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?W(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),Se(i)}async function cu(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?W(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]});if(i!=="0x")return i}function lu(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function fu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?W(n):void 0,o=await e.request({method:"eth_feeHistory",params:[W(t),i||r,s]});return lu(o)}async function du(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>De(i));return t.abi?sr({abi:t.abi,logs:s,strict:n}):s}function pu(e,t){if(!Ee(e,{strict:!1}))throw new Ve({address:e});if(!Ee(t,{strict:!1}))throw new Ve({address:t});return e.toLowerCase()===t.toLowerCase()}const hu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function mu(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Pu({domain:t}),...e.types};vu({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(yu({domain:t,types:s})),r!=="EIP712Domain"&&i.push(Xs({data:n,primaryType:r,types:s})),le(Fe(i))}function yu({domain:e,types:t}){return Xs({data:e,primaryType:"EIP712Domain",types:t})}function Xs({data:e,primaryType:t,types:n}){const r=Js({data:e,primaryType:t,types:n});return le(r)}function Js({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[gu({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=Ys({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return $t(r,s)}function gu({primaryType:e,types:t}){const n=Ge(wu({primaryType:e,types:t}));return le(n)}function wu({primaryType:e,types:t}){let n="";const r=Zs({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function Zs({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])Zs({primaryType:i.type,types:t},n);return n}function Ys({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},le(Js({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},le(r)];if(n==="string")return[{type:"bytes32"},le(Ge(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>Ys({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},le($t(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function vu(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:p,type:d}=c,b=a[p],g=d.match(bu);if(g&&(typeof b=="number"||typeof b=="bigint")){const[O,C,B]=g;W(b,{signed:C==="int",size:parseInt(B)/8})}if(d==="address"&&typeof b=="string"&&!Ee(b))throw new Ve({address:b});const I=d.match(hu);if(I){const[O,C]=I;if(C&&ne(b)!==parseInt(C))throw new Ti({expectedSize:parseInt(C),givenSize:ne(b)})}const A=s[d];A&&i(A,b)}};if(s.EIP712Domain&&t&&i(s.EIP712Domain,t),r!=="EIP712Domain"){const o=s[r];i(o,n)}}function Pu({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const hn="/docs/contract/encodeDeployData";function xu(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new yi({docsPath:hn});if(!("inputs"in s))throw new hr({docsPath:hn});if(!s.inputs||s.inputs.length===0)throw new hr({docsPath:hn});const i=$t(s.inputs,n);return Un([r,i])}const Eu={"0x0":"reverted","0x1":"success"};function Tu(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>De(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Se(e.transactionIndex):null,status:e.status?Eu[e.status]:null,type:e.type?$s[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Au=`Ethereum Signed Message:
`;function Ou(e,t){const n=typeof e=="string"?Ce(e):e.raw instanceof Uint8Array?e.raw:qe(e.raw),r=Ce(`${Au}${n.length}`);return le(Fe([r,n]),t)}function Iu(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function $u(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Se(e.nonce):void 0,storageProof:e.storageProof?Iu(e.storageProof):void 0}}async function Cu(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?W(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return $u(a)}async function Bu(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?W(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function lr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var d,b,g;const o=r||"latest",a=n!==void 0?W(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,W(i)]}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,W(i)]})),!c)throw new Es({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((g=(b=(d=e.chain)==null?void 0:d.formatters)==null?void 0:b.transaction)==null?void 0:g.format)||Cs)(c)}async function Nu(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([L(e,Ft,"getBlockNumber")({}),t?L(e,lr,"getBlockNumber")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Rn(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Ts({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Tu)(n)}async function ku(e,t){var C;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,multicallAddress:o,stateOverride:a}=t,c=t.contracts,p=r??(typeof((C=e.batch)==null?void 0:C.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=o;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=st({blockNumber:s,chain:e.chain,contract:"multicall3"})}const b=[[]];let g=0,I=0;for(let B=0;B<c.length;B++){const{abi:T,address:j,args:_,functionName:S}=c[B];try{const M=ze({abi:T,args:_,functionName:S});I+=(M.length-2)/2,p>0&&I>p&&b[g].length>0&&(g++,I=(M.length-2)/2,b[g]=[]),b[g]=[...b[g],{allowFailure:!0,callData:M,target:j}]}catch(M){const N=It(M,{abi:T,address:j,args:_,docsPath:"/docs/contract/multicall",functionName:S});if(!n)throw N;b[g]=[...b[g],{allowFailure:!0,callData:"0x",target:j}]}}const A=await Promise.allSettled(b.map(B=>L(e,je,"readContract")({abi:Nn,address:d,args:[B],blockNumber:s,blockTag:i,functionName:"aggregate3",stateOverride:a}))),O=[];for(let B=0;B<A.length;B++){const T=A[B];if(T.status==="rejected"){if(!n)throw T.reason;for(let _=0;_<b[B].length;_++)O.push({status:"failure",error:T.reason,result:void 0});continue}const j=T.value;for(let _=0;_<j.length;_++){const{returnData:S,success:M}=j[_],{callData:N}=b[B][_],{abi:u,address:l,functionName:f,args:P}=c[O.length];try{if(N==="0x")throw new Jt;if(!M)throw new Zn({data:S});const m=rt({abi:u,args:P,data:S,functionName:f});O.push(n?{result:m,status:"success"}:m)}catch(m){const w=It(m,{abi:u,address:l,args:P,docsPath:"/docs/contract/multicall",functionName:f});if(!n)throw w;O.push({error:w,result:void 0,status:"failure"})}}}if(O.length!==c.length)throw new k("multicall results mismatch");return O}const Fu="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function ju(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Mu(e,t){const n=ke(e)?qe(e):e,r=ke(t)?qe(t):t;return ju(n,r)}async function Ks(e,{address:t,hash:n,signature:r,...s}){const i=ke(r)?r:Ge(r);try{const{data:o}=await L(e,sn,"call")({data:xu({abi:da,args:[t,n,i],bytecode:Fu}),...s});return Mu(o??"0x0","0x1")}catch(o){if(o instanceof As)return!1;throw o}}async function _u(e,{address:t,message:n,signature:r,...s}){const i=Ou(n);return Ks(e,{address:t,hash:i,signature:r,...s})}async function Ru(e,t){const{address:n,signature:r,message:s,primaryType:i,types:o,domain:a,...c}=t,p=mu({message:s,primaryType:i,types:o,domain:a});return Ks(e,{address:n,hash:p,signature:r,...c})}function Qs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:e.transport.type!=="webSocket";let c;return a?(()=>{const b=be(["watchBlockNumber",e.uid,t,n,o]);return it(b,{onBlockNumber:r,onError:s},g=>kt(async()=>{var I;try{const A=await L(e,Ft,"getBlockNumber")({cacheTime:0});if(c){if(A===c)return;if(A-c>1&&n)for(let O=c+1n;O<A;O++)g.onBlockNumber(O,c),c=O}(!c||A>c)&&(g.onBlockNumber(A,c),c=A)}catch(A){(I=g.onError)==null||I.call(g,A)}},{emitOnBegin:t,interval:o}))})():(()=>{let b=!0,g=()=>b=!1;return(async()=>{try{const{unsubscribe:I}=await e.transport.subscribe({params:["newHeads"],onData(A){var C;if(!b)return;const O=Kt((C=A.result)==null?void 0:C.number);r(O,c),c=O},onError(A){s==null||s(A)}});g=I,b||g()}catch(I){s==null||s(I)}})(),g})()}async function Su(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a}){const c=be(["waitForTransactionReceipt",e.uid,n]);let p,d,b,g=!1;return new Promise((I,A)=>{a&&setTimeout(()=>A(new Jo({hash:n})),a);const O=it(c,{onReplaced:r,resolve:I,reject:A},C=>{const B=L(e,Qs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(T){if(g)return;let j=T;const _=S=>{B(),S(),O()};try{if(b){if(t>1&&(!b.blockNumber||j-b.blockNumber+1n<t))return;_(()=>C.resolve(b));return}if(p||(g=!0,await _n(async()=>{p=await L(e,lr,"getTransaction")({hash:n}),p.blockNumber&&(j=p.blockNumber)},{delay:o,retryCount:i}),g=!1),b=await L(e,Rn,"getTransactionReceipt")({hash:n}),t>1&&(!b.blockNumber||j-b.blockNumber+1n<t))return;_(()=>C.resolve(b))}catch(S){if(S instanceof Es||S instanceof Ts){if(!p){g=!1;return}try{d=p,g=!0;const M=await _n(()=>L(e,Le,"getBlock")({blockNumber:j,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:l})=>l instanceof Is});g=!1;const N=M.transactions.find(({from:l,nonce:f})=>l===d.from&&f===d.nonce);if(!N||(b=await L(e,Rn,"getTransactionReceipt")({hash:N.hash}),t>1&&(!b.blockNumber||j-b.blockNumber+1n<t)))return;let u="replaced";N.to===d.to&&N.value===d.value?u="repriced":N.from===N.to&&N.value===0n&&(u="cancelled"),_(()=>{var l;(l=C.onReplaced)==null||l.call(C,{reason:u,replacedTransaction:d,transaction:N,transactionReceipt:b}),C.resolve(b)})}catch(M){_(()=>C.reject(M))}}else _(()=>C.reject(S))}}})})})}function Lu(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const p=typeof a<"u"?a:e.transport.type!=="webSocket",d=o??!1;let b;return p?(()=>{const A=be(["watchBlocks",e.uid,n,r,d,c]);return it(A,{onBlock:s,onError:i},O=>kt(async()=>{var C;try{const B=await L(e,Le,"getBlock")({blockTag:t,includeTransactions:d});if(B.number&&(b!=null&&b.number)){if(B.number===b.number)return;if(B.number-b.number>1&&n)for(let T=(b==null?void 0:b.number)+1n;T<B.number;T++){const j=await L(e,Le,"getBlock")({blockNumber:T,includeTransactions:d});O.onBlock(j,b),b=j}}(!(b!=null&&b.number)||t==="pending"&&!(B!=null&&B.number)||B.number&&B.number>b.number)&&(O.onBlock(B,b),b=B)}catch(B){(C=O.onError)==null||C.call(O,B)}},{emitOnBegin:r,interval:c}))})():(()=>{let A=!0,O=()=>A=!1;return(async()=>{try{const{unsubscribe:C}=await e.transport.subscribe({params:["newHeads"],onData(B){var _,S,M;if(!A)return;const j=(((M=(S=(_=e.chain)==null?void 0:_.formatters)==null?void 0:S.block)==null?void 0:M.format)||Bs)(B.result);s(j,b),b=j},onError(B){i==null||i(B)}});O=C,A||O()}catch(C){i==null||i(C)}})(),O})()}function Du(e,{address:t,args:n,batch:r=!0,event:s,events:i,onError:o,onLogs:a,poll:c,pollingInterval:p=e.pollingInterval,strict:d}){const b=typeof c<"u"?c:e.transport.type!=="webSocket",g=d??!1;return b?(()=>{const O=be(["watchEvent",t,n,r,e.uid,s,p]);return it(O,{onLogs:a,onError:o},C=>{let B,T,j=!1;const _=kt(async()=>{var S;if(!j){try{T=await L(e,Vs,"createEventFilter")({address:t,args:n,event:s,events:i,strict:g})}catch{}j=!0;return}try{let M;if(T)M=await L(e,on,"getFilterChanges")({filter:T});else{const N=await L(e,Ft,"getBlockNumber")({});B&&B!==N?M=await L(e,ir,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:B+1n,toBlock:N}):M=[],B=N}if(M.length===0)return;if(r)C.onLogs(M);else for(const N of M)C.onLogs([N])}catch(M){T&&M instanceof Xe&&(j=!1),(S=C.onError)==null||S.call(C,M)}},{emitOnBegin:!0,interval:p});return async()=>{T&&await L(e,an,"uninstallFilter")({filter:T}),_()}})})():(()=>{let O=!0,C=()=>O=!1;return(async()=>{try{const B=i??(s?[s]:void 0);let T=[];B&&(T=[B.flatMap(_=>Bt({abi:[_],eventName:_.name,args:n}))],s&&(T=T[0]));const{unsubscribe:j}=await e.transport.subscribe({params:["logs",{address:t,topics:T}],onData(_){var M;if(!O)return;const S=_.result;try{const{eventName:N,args:u}=rn({abi:B??[],data:S.data,topics:S.topics,strict:g}),l=De(S,{args:u,eventName:N});a([l])}catch(N){let u,l;if(N instanceof ft||N instanceof Zt){if(d)return;u=N.abiItem.name,l=(M=N.abiItem.inputs)==null?void 0:M.some(P=>!("name"in P&&P.name))}const f=De(S,{args:l?[]:{},eventName:u});a([f])}},onError(_){o==null||o(_)}});C=j,O||C()}catch(B){o==null||o(B)}})(),C})()}function Gu(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const p=be(["watchPendingTransactions",e.uid,t,i]);return it(p,{onTransactions:r,onError:n},d=>{let b;const g=kt(async()=>{var I;try{if(!b)try{b=await L(e,Ws,"createPendingTransactionFilter")({});return}catch(O){throw g(),O}const A=await L(e,on,"getFilterChanges")({filter:b});if(A.length===0)return;if(t)d.onTransactions(A);else for(const O of A)d.onTransactions([O])}catch(A){(I=d.onError)==null||I.call(d,A)}},{emitOnBegin:!0,interval:i});return async()=>{b&&await L(e,an,"uninstallFilter")({filter:b}),g()}})})():(()=>{let p=!0,d=()=>p=!1;return(async()=>{try{const{unsubscribe:b}=await e.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!p)return;const I=g.result;r([I])},onError(g){n==null||n(g)}});d=b,p||d()}catch(b){n==null||n(b)}})(),d})()}function zu(e){return{call:t=>sn(e,t),createBlockFilter:()=>ou(e),createContractEventFilter:t=>Xn(e,t),createEventFilter:t=>Vs(e,t),createPendingTransactionFilter:()=>Ws(e),estimateContractGas:t=>Fs(e,t),estimateGas:t=>rr(e,t),getBalance:t=>au(e,t),getBlock:t=>Le(e,t),getBlockNumber:t=>Ft(e,t),getBlockTransactionCount:t=>uu(e,t),getBytecode:t=>cu(e,t),getChainId:()=>jn(e),getContractEvents:t=>or(e,t),getEnsAddress:t=>Ha(e,t),getEnsAvatar:t=>ru(e,t),getEnsName:t=>su(e,t),getEnsResolver:t=>iu(e,t),getEnsText:t=>qs(e,t),getFeeHistory:t=>fu(e,t),estimateFeesPerGas:t=>aa(e,t),getFilterChanges:t=>on(e,t),getFilterLogs:t=>du(e,t),getGasPrice:()=>tr(e),getLogs:t=>ir(e,t),getProof:t=>Cu(e,t),estimateMaxPriorityFeePerGas:t=>oa(e,t),getStorageAt:t=>Bu(e,t),getTransaction:t=>lr(e,t),getTransactionConfirmations:t=>Nu(e,t),getTransactionCount:t=>ks(e,t),getTransactionReceipt:t=>Rn(e,t),multicall:t=>ku(e,t),prepareTransactionRequest:t=>nr(e,t),readContract:t=>je(e,t),sendRawTransaction:t=>Ds(e,t),simulateContract:t=>Ss(e,t),verifyMessage:t=>_u(e,t),verifyTypedData:t=>Ru(e,t),uninstallFilter:t=>an(e,t),waitForTransactionReceipt:t=>Su(e,t),watchBlocks:t=>Lu(e,t),watchBlockNumber:t=>Qs(e,t),watchContractEvent:t=>Ls(e,t),watchEvent:t=>Du(e,t),watchPendingTransactions:t=>Gu(e,t)}}function Uu(e){const{key:t="public",name:n="Public Client"}=e;return Fa({...e,key:t,name:n,type:"publicClient"}).extend(zu)}const Hu={type:"event",name:"Created",inputs:[{name:"bountyId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"payoutToken",type:"address",indexed:!1,internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verifier",type:"address",indexed:!1,internalType:"contract IVerifier"}],anonymous:!1},qu={type:"event",name:"Claimed",inputs:[{name:"bountyId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"payoutToken",type:"address",indexed:!1,internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},Vu={type:"event",name:"Cancelled",inputs:[{name:"bountyId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},Wu=[{type:"function",stateMutability:"view",name:"symbol",inputs:[],outputs:[{type:"string",name:"symbol"}]},{type:"function",stateMutability:"view",name:"decimals",inputs:[],outputs:[{type:"uint256",name:"decimals"}]}],Xu=[{type:"function",name:"add",inputs:[{name:"name",type:"string",internalType:"string"},{name:"payoutToken",type:"address",internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",internalType:"uint256"},{name:"verifier",type:"address",internalType:"contract IVerifier"},{name:"pauser",type:"address",internalType:"contract IPauser"},{name:"payer",type:"address",internalType:"contract IPayer"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"bountyId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"bountyCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"cancel",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claim",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"},{name:"payReceiver",type:"address",internalType:"address payable"},{name:"exploiter",type:"address",internalType:"contract IExploiter"},{name:"exploiterData",type:"bytes",internalType:"bytes"},{name:"verifierData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getBounty",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"},{name:"payoutToken",type:"address",internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",internalType:"uint256"},{name:"verifier",type:"address",internalType:"contract IVerifier"},{name:"pauser",type:"address",internalType:"contract IPauser"},{name:"payer",type:"address",internalType:"contract IPayer"}],stateMutability:"view"},{type:"function",name:"isBountyClaimed",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"}],outputs:[{name:"claimed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"sandboxExploit",inputs:[{name:"exploiter",type:"address",internalType:"contract IExploiter"},{name:"verifier",type:"address",internalType:"contract IVerifier"},{name:"exploiterData",type:"bytes",internalType:"bytes"},{name:"verifierData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"sandboxTryPayBounty",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"},{name:"payReceiver",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"update",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"},{name:"payoutToken",type:"address",internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",internalType:"uint256"},{name:"verifier",type:"address",internalType:"contract IVerifier"},{name:"pauser",type:"address",internalType:"contract IPauser"},{name:"payer",type:"address",internalType:"contract IPayer"},{name:"operator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifyBountyCanPay",inputs:[{name:"bountyId",type:"uint256",internalType:"uint256"},{name:"payReceiver",type:"address",internalType:"address payable"}],outputs:[{name:"bountyCanPay",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Cancelled",inputs:[{name:"bountyId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Claimed",inputs:[{name:"bountyId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"payoutToken",type:"address",indexed:!1,internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Created",inputs:[{name:"bountyId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"payoutToken",type:"address",indexed:!1,internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verifier",type:"address",indexed:!1,internalType:"contract IVerifier"}],anonymous:!1},{type:"event",name:"Updated",inputs:[{name:"bountyId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"payoutToken",type:"address",indexed:!1,internalType:"contract ERC20"},{name:"payoutAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verifier",type:"address",indexed:!1,internalType:"contract IVerifier"}],anonymous:!1},{type:"error",name:"InsufficientPayoutError",inputs:[]},{type:"error",name:"InvalidBountyConfigError",inputs:[]},{type:"error",name:"InvalidClaimError",inputs:[]},{type:"error",name:"InvalidExploitError",inputs:[]},{type:"error",name:"OnlyBountyOperatorError",inputs:[]},{type:"error",name:"SandboxFailedError",inputs:[{name:"innerError",type:"bytes",internalType:"bytes"}]},{type:"error",name:"SandboxSucceededError",inputs:[]}],fr=Uu({transport:Ga(ci),batch:{multicall:!0}}),Ju=/^[-a-z0-9 _!?.#$]+$/i,Zu="0x38d18acb67d25c8bb9942764b62f18e17054f66a";async function Yu(){const e=[Hu,qu,Vu],t=await fr.getLogs({fromBlock:BigInt(li),address:Sn,events:e}),n={};for(const a of t)try{const c=rn({abi:e,data:a.data,topics:a.topics}),p=c.args;if(c.eventName==="Created"){const d=Number(p.bountyId),{name:b,image:g}=ec(p.name),I=p.payoutAmount,A=p.payoutToken,O=p.verifier;n[d]={id:d,name:b,image:g,bountyTokenAddress:A,bountyTokenAmount:I,bountyTokenName:"???",bountyTokenDecimals:1,verifierAddress:O}}else if(c.eventName==="Cancelled"){const d=Number(p.bountyId);delete n[d]}else if(c.eventName==="Claimed"){const d=Number(p.bountyId);d in n&&(n[d].claimTx=a.transactionHash)}}catch(c){console.error(c)}const r=Object.keys(Object.assign({},...Object.values(n).map(a=>({[a.bountyTokenAddress]:!0})))),s=await Ku(r),i=Object.values(n);for(let a=0;a<i.length;++a){const c=s[r.findIndex(p=>pu(i[a].bountyTokenAddress,p))];i[a].bountyTokenDecimals=c.decimals,i[a].bountyTokenName=c.symbol}const o=await Promise.all(i.map(a=>Qu(a.id)));return i.filter((a,c)=>a.claimTx||o[c]).sort((a,c)=>c.id-a.id)}async function Ku(e){const t=Gs({abi:Wu,client:fr,address:"0x"}),[n,r]=await Promise.all([Promise.all(e.map(s=>t.read.symbol({address:s}).then(i=>i.slice(0,8)).catch(()=>"???"))),Promise.all(e.map(s=>t.read.decimals({address:s}).then(i=>Number(i)).catch(()=>18)))]);return n.map((s,i)=>({symbol:s,decimals:r[i]}))}async function Qu(e){return await Gs({abi:Xu,client:fr,address:Sn}).read.verifyBountyCanPay({args:[e,Zu]}).catch(n=>(console.error(n),!1))}function ec(e){try{if(e.length<=1024&&e.startsWith("{")){const t=JSON.parse(e.slice(0,1024)),{name:n,image:r}=t;if(n&&typeof n=="string")return r&&typeof r=="string"?{name:n,image:r}:{name:n}}}catch(t){console.warn(t)}return{name:e.slice(0,64).split("").filter(t=>Ju.test(t)).join("")}}var tc=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,bn=Math.ceil,ye=Math.floor,ce="[BigNumber Error] ",Rr=ce+"Number primitive has more than 15 significant digits: ",we=1e14,z=14,mn=9007199254740991,yn=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],_e=1e7,re=1e9;function ei(e){var t,n,r,s=T.prototype={constructor:T,toString:null,valueOf:null},i=new T(1),o=20,a=4,c=-7,p=21,d=-1e7,b=1e7,g=!1,I=1,A=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},C="0123456789abcdefghijklmnopqrstuvwxyz",B=!0;function T(u,l){var f,P,m,w,x,h,y,v,E=this;if(!(E instanceof T))return new T(u,l);if(l==null){if(u&&u._isBigNumber===!0){E.s=u.s,!u.c||u.e>b?E.c=E.e=null:u.e<d?E.c=[E.e=0]:(E.e=u.e,E.c=u.c.slice());return}if((h=typeof u=="number")&&u*0==0){if(E.s=1/u<0?(u=-u,-1):1,u===~~u){for(w=0,x=u;x>=10;x/=10,w++);w>b?E.c=E.e=null:(E.e=w,E.c=[u]);return}v=String(u)}else{if(!tc.test(v=String(u)))return r(E,v,h);E.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(w=v.indexOf("."))>-1&&(v=v.replace(".","")),(x=v.search(/e/i))>0?(w<0&&(w=x),w+=+v.slice(x+1),v=v.substring(0,x)):w<0&&(w=v.length)}else{if(K(l,2,C.length,"Base"),l==10&&B)return E=new T(u),M(E,o+E.e+1,a);if(v=String(u),h=typeof u=="number"){if(u*0!=0)return r(E,v,h,l);if(E.s=1/u<0?(v=v.slice(1),-1):1,T.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(Rr+u)}else E.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(f=C.slice(0,l),w=x=0,y=v.length;x<y;x++)if(f.indexOf(P=v.charAt(x))<0){if(P=="."){if(x>w){w=y;continue}}else if(!m&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){m=!0,x=-1,w=0;continue}return r(E,String(u),h,l)}h=!1,v=n(v,l,10,E.s),(w=v.indexOf("."))>-1?v=v.replace(".",""):w=v.length}for(x=0;v.charCodeAt(x)===48;x++);for(y=v.length;v.charCodeAt(--y)===48;);if(v=v.slice(x,++y)){if(y-=x,h&&T.DEBUG&&y>15&&(u>mn||u!==ye(u)))throw Error(Rr+E.s*u);if((w=w-x-1)>b)E.c=E.e=null;else if(w<d)E.c=[E.e=0];else{if(E.e=w,E.c=[],x=(w+1)%z,w<0&&(x+=z),x<y){for(x&&E.c.push(+v.slice(0,x)),y-=z;x<y;)E.c.push(+v.slice(x,x+=z));x=z-(v=v.slice(x)).length}else x-=y;for(;x--;v+="0");E.c.push(+v)}}else E.c=[E.e=0]}T.clone=ei,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(u){var l,f;if(u!=null)if(typeof u=="object"){if(u.hasOwnProperty(l="DECIMAL_PLACES")&&(f=u[l],K(f,0,re,l),o=f),u.hasOwnProperty(l="ROUNDING_MODE")&&(f=u[l],K(f,0,8,l),a=f),u.hasOwnProperty(l="EXPONENTIAL_AT")&&(f=u[l],f&&f.pop?(K(f[0],-re,0,l),K(f[1],0,re,l),c=f[0],p=f[1]):(K(f,-re,re,l),c=-(p=f<0?-f:f))),u.hasOwnProperty(l="RANGE"))if(f=u[l],f&&f.pop)K(f[0],-re,-1,l),K(f[1],1,re,l),d=f[0],b=f[1];else if(K(f,-re,re,l),f)d=-(b=f<0?-f:f);else throw Error(ce+l+" cannot be zero: "+f);if(u.hasOwnProperty(l="CRYPTO"))if(f=u[l],f===!!f)if(f)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=f;else throw g=!f,Error(ce+"crypto unavailable");else g=f;else throw Error(ce+l+" not true or false: "+f);if(u.hasOwnProperty(l="MODULO_MODE")&&(f=u[l],K(f,0,9,l),I=f),u.hasOwnProperty(l="POW_PRECISION")&&(f=u[l],K(f,0,re,l),A=f),u.hasOwnProperty(l="FORMAT"))if(f=u[l],typeof f=="object")O=f;else throw Error(ce+l+" not an object: "+f);if(u.hasOwnProperty(l="ALPHABET"))if(f=u[l],typeof f=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(f))B=f.slice(0,10)=="0123456789",C=f;else throw Error(ce+l+" invalid: "+f)}else throw Error(ce+"Object expected: "+u);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,p],RANGE:[d,b],CRYPTO:g,MODULO_MODE:I,POW_PRECISION:A,FORMAT:O,ALPHABET:C}},T.isBigNumber=function(u){if(!u||u._isBigNumber!==!0)return!1;if(!T.DEBUG)return!0;var l,f,P=u.c,m=u.e,w=u.s;e:if({}.toString.call(P)=="[object Array]"){if((w===1||w===-1)&&m>=-re&&m<=re&&m===ye(m)){if(P[0]===0){if(m===0&&P.length===1)return!0;break e}if(l=(m+1)%z,l<1&&(l+=z),String(P[0]).length==l){for(l=0;l<P.length;l++)if(f=P[l],f<0||f>=we||f!==ye(f))break e;if(f!==0)return!0}}}else if(P===null&&m===null&&(w===null||w===1||w===-1))return!0;throw Error(ce+"Invalid BigNumber: "+u)},T.maximum=T.max=function(){return _(arguments,-1)},T.minimum=T.min=function(){return _(arguments,1)},T.random=function(){var u=9007199254740992,l=Math.random()*u&2097151?function(){return ye(Math.random()*u)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(f){var P,m,w,x,h,y=0,v=[],E=new T(i);if(f==null?f=o:K(f,0,re),x=bn(f/z),g)if(crypto.getRandomValues){for(P=crypto.getRandomValues(new Uint32Array(x*=2));y<x;)h=P[y]*131072+(P[y+1]>>>11),h>=9e15?(m=crypto.getRandomValues(new Uint32Array(2)),P[y]=m[0],P[y+1]=m[1]):(v.push(h%1e14),y+=2);y=x/2}else if(crypto.randomBytes){for(P=crypto.randomBytes(x*=7);y<x;)h=(P[y]&31)*281474976710656+P[y+1]*1099511627776+P[y+2]*4294967296+P[y+3]*16777216+(P[y+4]<<16)+(P[y+5]<<8)+P[y+6],h>=9e15?crypto.randomBytes(7).copy(P,y):(v.push(h%1e14),y+=7);y=x/7}else throw g=!1,Error(ce+"crypto unavailable");if(!g)for(;y<x;)h=l(),h<9e15&&(v[y++]=h%1e14);for(x=v[--y],f%=z,x&&f&&(h=yn[z-f],v[y]=ye(x/h)*h);v[y]===0;v.pop(),y--);if(y<0)v=[w=0];else{for(w=-1;v[0]===0;v.splice(0,1),w-=z);for(y=1,h=v[0];h>=10;h/=10,y++);y<z&&(w-=z-y)}return E.e=w,E.c=v,E}}(),T.sum=function(){for(var u=1,l=arguments,f=new T(l[0]);u<l.length;)f=f.plus(l[u++]);return f},n=function(){var u="0123456789";function l(f,P,m,w){for(var x,h=[0],y,v=0,E=f.length;v<E;){for(y=h.length;y--;h[y]*=P);for(h[0]+=w.indexOf(f.charAt(v++)),x=0;x<h.length;x++)h[x]>m-1&&(h[x+1]==null&&(h[x+1]=0),h[x+1]+=h[x]/m|0,h[x]%=m)}return h.reverse()}return function(f,P,m,w,x){var h,y,v,E,$,R,F,D,G=f.indexOf("."),q=o,X=a;for(G>=0&&(E=A,A=0,f=f.replace(".",""),D=new T(P),R=D.pow(f.length-G),A=E,D.c=l($e(me(R.c),R.e,"0"),10,m,u),D.e=D.c.length),F=l(f,P,m,x?(h=C,u):(h=u,C)),v=E=F.length;F[--E]==0;F.pop());if(!F[0])return h.charAt(0);if(G<0?--v:(R.c=F,R.e=v,R.s=w,R=t(R,D,q,X,m),F=R.c,$=R.r,v=R.e),y=v+q+1,G=F[y],E=m/2,$=$||y<0||F[y+1]!=null,$=X<4?(G!=null||$)&&(X==0||X==(R.s<0?3:2)):G>E||G==E&&(X==4||$||X==6&&F[y-1]&1||X==(R.s<0?8:7)),y<1||!F[0])f=$?$e(h.charAt(1),-q,h.charAt(0)):h.charAt(0);else{if(F.length=y,$)for(--m;++F[--y]>m;)F[y]=0,y||(++v,F=[1].concat(F));for(E=F.length;!F[--E];);for(G=0,f="";G<=E;f+=h.charAt(F[G++]));f=$e(f,v,h.charAt(0))}return f}}(),t=function(){function u(P,m,w){var x,h,y,v,E=0,$=P.length,R=m%_e,F=m/_e|0;for(P=P.slice();$--;)y=P[$]%_e,v=P[$]/_e|0,x=F*y+v*R,h=R*y+x%_e*_e+E,E=(h/w|0)+(x/_e|0)+F*v,P[$]=h%w;return E&&(P=[E].concat(P)),P}function l(P,m,w,x){var h,y;if(w!=x)y=w>x?1:-1;else for(h=y=0;h<w;h++)if(P[h]!=m[h]){y=P[h]>m[h]?1:-1;break}return y}function f(P,m,w,x){for(var h=0;w--;)P[w]-=h,h=P[w]<m[w]?1:0,P[w]=h*x+P[w]-m[w];for(;!P[0]&&P.length>1;P.splice(0,1));}return function(P,m,w,x,h){var y,v,E,$,R,F,D,G,q,X,J,ee,pe,Ue,Ae,he,Oe,ae=P.s==m.s?1:-1,ue=P.c,Q=m.c;if(!ue||!ue[0]||!Q||!Q[0])return new T(!P.s||!m.s||(ue?Q&&ue[0]==Q[0]:!Q)?NaN:ue&&ue[0]==0||!Q?ae*0:ae/0);for(G=new T(ae),q=G.c=[],v=P.e-m.e,ae=w+v+1,h||(h=we,v=ge(P.e/z)-ge(m.e/z),ae=ae/z|0),E=0;Q[E]==(ue[E]||0);E++);if(Q[E]>(ue[E]||0)&&v--,ae<0)q.push(1),$=!0;else{for(Ue=ue.length,he=Q.length,E=0,ae+=2,R=ye(h/(Q[0]+1)),R>1&&(Q=u(Q,R,h),ue=u(ue,R,h),he=Q.length,Ue=ue.length),pe=he,X=ue.slice(0,he),J=X.length;J<he;X[J++]=0);Oe=Q.slice(),Oe=[0].concat(Oe),Ae=Q[0],Q[1]>=h/2&&Ae++;do{if(R=0,y=l(Q,X,he,J),y<0){if(ee=X[0],he!=J&&(ee=ee*h+(X[1]||0)),R=ye(ee/Ae),R>1)for(R>=h&&(R=h-1),F=u(Q,R,h),D=F.length,J=X.length;l(F,X,D,J)==1;)R--,f(F,he<D?Oe:Q,D,h),D=F.length,y=1;else R==0&&(y=R=1),F=Q.slice(),D=F.length;if(D<J&&(F=[0].concat(F)),f(X,F,J,h),J=X.length,y==-1)for(;l(Q,X,he,J)<1;)R++,f(X,he<J?Oe:Q,J,h),J=X.length}else y===0&&(R++,X=[0]);q[E++]=R,X[0]?X[J++]=ue[pe]||0:(X=[ue[pe]],J=1)}while((pe++<Ue||X[0]!=null)&&ae--);$=X[0]!=null,q[0]||q.splice(0,1)}if(h==we){for(E=1,ae=q[0];ae>=10;ae/=10,E++);M(G,w+(G.e=E+v*z-1)+1,x,$)}else G.e=v,G.r=+$;return G}}();function j(u,l,f,P){var m,w,x,h,y;if(f==null?f=a:K(f,0,8),!u.c)return u.toString();if(m=u.c[0],x=u.e,l==null)y=me(u.c),y=P==1||P==2&&(x<=c||x>=p)?Lt(y,x):$e(y,x,"0");else if(u=M(new T(u),l,f),w=u.e,y=me(u.c),h=y.length,P==1||P==2&&(l<=w||w<=c)){for(;h<l;y+="0",h++);y=Lt(y,w)}else if(l-=x,y=$e(y,w,"0"),w+1>h){if(--l>0)for(y+=".";l--;y+="0");}else if(l+=w-h,l>0)for(w+1==h&&(y+=".");l--;y+="0");return u.s<0&&m?"-"+y:y}function _(u,l){for(var f,P,m=1,w=new T(u[0]);m<u.length;m++)P=new T(u[m]),(!P.s||(f=He(w,P))===l||f===0&&w.s===l)&&(w=P);return w}function S(u,l,f){for(var P=1,m=l.length;!l[--m];l.pop());for(m=l[0];m>=10;m/=10,P++);return(f=P+f*z-1)>b?u.c=u.e=null:f<d?u.c=[u.e=0]:(u.e=f,u.c=l),u}r=function(){var u=/^(-?)0([xbo])(?=\w[\w.]*$)/i,l=/^([^.]+)\.$/,f=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,m=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(w,x,h,y){var v,E=h?x:x.replace(m,"");if(P.test(E))w.s=isNaN(E)?null:E<0?-1:1;else{if(!h&&(E=E.replace(u,function($,R,F){return v=(F=F.toLowerCase())=="x"?16:F=="b"?2:8,!y||y==v?R:$}),y&&(v=y,E=E.replace(l,"$1").replace(f,"0.$1")),x!=E))return new T(E,v);if(T.DEBUG)throw Error(ce+"Not a"+(y?" base "+y:"")+" number: "+x);w.s=null}w.c=w.e=null}}();function M(u,l,f,P){var m,w,x,h,y,v,E,$=u.c,R=yn;if($){e:{for(m=1,h=$[0];h>=10;h/=10,m++);if(w=l-m,w<0)w+=z,x=l,y=$[v=0],E=ye(y/R[m-x-1]%10);else if(v=bn((w+1)/z),v>=$.length)if(P){for(;$.length<=v;$.push(0));y=E=0,m=1,w%=z,x=w-z+1}else break e;else{for(y=h=$[v],m=1;h>=10;h/=10,m++);w%=z,x=w-z+m,E=x<0?0:ye(y/R[m-x-1]%10)}if(P=P||l<0||$[v+1]!=null||(x<0?y:y%R[m-x-1]),P=f<4?(E||P)&&(f==0||f==(u.s<0?3:2)):E>5||E==5&&(f==4||P||f==6&&(w>0?x>0?y/R[m-x]:0:$[v-1])%10&1||f==(u.s<0?8:7)),l<1||!$[0])return $.length=0,P?(l-=u.e+1,$[0]=R[(z-l%z)%z],u.e=-l||0):$[0]=u.e=0,u;if(w==0?($.length=v,h=1,v--):($.length=v+1,h=R[z-w],$[v]=x>0?ye(y/R[m-x]%R[x])*h:0),P)for(;;)if(v==0){for(w=1,x=$[0];x>=10;x/=10,w++);for(x=$[0]+=h,h=1;x>=10;x/=10,h++);w!=h&&(u.e++,$[0]==we&&($[0]=1));break}else{if($[v]+=h,$[v]!=we)break;$[v--]=0,h=1}for(w=$.length;$[--w]===0;$.pop());}u.e>b?u.c=u.e=null:u.e<d&&(u.c=[u.e=0])}return u}function N(u){var l,f=u.e;return f===null?u.toString():(l=me(u.c),l=f<=c||f>=p?Lt(l,f):$e(l,f,"0"),u.s<0?"-"+l:l)}return s.absoluteValue=s.abs=function(){var u=new T(this);return u.s<0&&(u.s=1),u},s.comparedTo=function(u,l){return He(this,new T(u,l))},s.decimalPlaces=s.dp=function(u,l){var f,P,m,w=this;if(u!=null)return K(u,0,re),l==null?l=a:K(l,0,8),M(new T(w),u+w.e+1,l);if(!(f=w.c))return null;if(P=((m=f.length-1)-ge(this.e/z))*z,m=f[m])for(;m%10==0;m/=10,P--);return P<0&&(P=0),P},s.dividedBy=s.div=function(u,l){return t(this,new T(u,l),o,a)},s.dividedToIntegerBy=s.idiv=function(u,l){return t(this,new T(u,l),0,1)},s.exponentiatedBy=s.pow=function(u,l){var f,P,m,w,x,h,y,v,E,$=this;if(u=new T(u),u.c&&!u.isInteger())throw Error(ce+"Exponent not an integer: "+N(u));if(l!=null&&(l=new T(l)),h=u.e>14,!$.c||!$.c[0]||$.c[0]==1&&!$.e&&$.c.length==1||!u.c||!u.c[0])return E=new T(Math.pow(+N($),h?u.s*(2-St(u)):+N(u))),l?E.mod(l):E;if(y=u.s<0,l){if(l.c?!l.c[0]:!l.s)return new T(NaN);P=!y&&$.isInteger()&&l.isInteger(),P&&($=$.mod(l))}else{if(u.e>9&&($.e>0||$.e<-1||($.e==0?$.c[0]>1||h&&$.c[1]>=24e7:$.c[0]<8e13||h&&$.c[0]<=9999975e7)))return w=$.s<0&&St(u)?-0:0,$.e>-1&&(w=1/w),new T(y?1/w:w);A&&(w=bn(A/z+2))}for(h?(f=new T(.5),y&&(u.s=1),v=St(u)):(m=Math.abs(+N(u)),v=m%2),E=new T(i);;){if(v){if(E=E.times($),!E.c)break;w?E.c.length>w&&(E.c.length=w):P&&(E=E.mod(l))}if(m){if(m=ye(m/2),m===0)break;v=m%2}else if(u=u.times(f),M(u,u.e+1,1),u.e>14)v=St(u);else{if(m=+N(u),m===0)break;v=m%2}$=$.times($),w?$.c&&$.c.length>w&&($.c.length=w):P&&($=$.mod(l))}return P?E:(y&&(E=i.div(E)),l?E.mod(l):w?M(E,A,a,x):E)},s.integerValue=function(u){var l=new T(this);return u==null?u=a:K(u,0,8),M(l,l.e+1,u)},s.isEqualTo=s.eq=function(u,l){return He(this,new T(u,l))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(u,l){return He(this,new T(u,l))>0},s.isGreaterThanOrEqualTo=s.gte=function(u,l){return(l=He(this,new T(u,l)))===1||l===0},s.isInteger=function(){return!!this.c&&ge(this.e/z)>this.c.length-2},s.isLessThan=s.lt=function(u,l){return He(this,new T(u,l))<0},s.isLessThanOrEqualTo=s.lte=function(u,l){return(l=He(this,new T(u,l)))===-1||l===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(u,l){var f,P,m,w,x=this,h=x.s;if(u=new T(u,l),l=u.s,!h||!l)return new T(NaN);if(h!=l)return u.s=-l,x.plus(u);var y=x.e/z,v=u.e/z,E=x.c,$=u.c;if(!y||!v){if(!E||!$)return E?(u.s=-l,u):new T($?x:NaN);if(!E[0]||!$[0])return $[0]?(u.s=-l,u):new T(E[0]?x:a==3?-0:0)}if(y=ge(y),v=ge(v),E=E.slice(),h=y-v){for((w=h<0)?(h=-h,m=E):(v=y,m=$),m.reverse(),l=h;l--;m.push(0));m.reverse()}else for(P=(w=(h=E.length)<(l=$.length))?h:l,h=l=0;l<P;l++)if(E[l]!=$[l]){w=E[l]<$[l];break}if(w&&(m=E,E=$,$=m,u.s=-u.s),l=(P=$.length)-(f=E.length),l>0)for(;l--;E[f++]=0);for(l=we-1;P>h;){if(E[--P]<$[P]){for(f=P;f&&!E[--f];E[f]=l);--E[f],E[P]+=we}E[P]-=$[P]}for(;E[0]==0;E.splice(0,1),--v);return E[0]?S(u,E,v):(u.s=a==3?-1:1,u.c=[u.e=0],u)},s.modulo=s.mod=function(u,l){var f,P,m=this;return u=new T(u,l),!m.c||!u.s||u.c&&!u.c[0]?new T(NaN):!u.c||m.c&&!m.c[0]?new T(m):(I==9?(P=u.s,u.s=1,f=t(m,u,0,3),u.s=P,f.s*=P):f=t(m,u,0,I),u=m.minus(f.times(u)),!u.c[0]&&I==1&&(u.s=m.s),u)},s.multipliedBy=s.times=function(u,l){var f,P,m,w,x,h,y,v,E,$,R,F,D,G,q,X=this,J=X.c,ee=(u=new T(u,l)).c;if(!J||!ee||!J[0]||!ee[0])return!X.s||!u.s||J&&!J[0]&&!ee||ee&&!ee[0]&&!J?u.c=u.e=u.s=null:(u.s*=X.s,!J||!ee?u.c=u.e=null:(u.c=[0],u.e=0)),u;for(P=ge(X.e/z)+ge(u.e/z),u.s*=X.s,y=J.length,$=ee.length,y<$&&(D=J,J=ee,ee=D,m=y,y=$,$=m),m=y+$,D=[];m--;D.push(0));for(G=we,q=_e,m=$;--m>=0;){for(f=0,R=ee[m]%q,F=ee[m]/q|0,x=y,w=m+x;w>m;)v=J[--x]%q,E=J[x]/q|0,h=F*v+E*R,v=R*v+h%q*q+D[w]+f,f=(v/G|0)+(h/q|0)+F*E,D[w--]=v%G;D[w]=f}return f?++P:D.splice(0,1),S(u,D,P)},s.negated=function(){var u=new T(this);return u.s=-u.s||null,u},s.plus=function(u,l){var f,P=this,m=P.s;if(u=new T(u,l),l=u.s,!m||!l)return new T(NaN);if(m!=l)return u.s=-l,P.minus(u);var w=P.e/z,x=u.e/z,h=P.c,y=u.c;if(!w||!x){if(!h||!y)return new T(m/0);if(!h[0]||!y[0])return y[0]?u:new T(h[0]?P:m*0)}if(w=ge(w),x=ge(x),h=h.slice(),m=w-x){for(m>0?(x=w,f=y):(m=-m,f=h),f.reverse();m--;f.push(0));f.reverse()}for(m=h.length,l=y.length,m-l<0&&(f=y,y=h,h=f,l=m),m=0;l;)m=(h[--l]=h[l]+y[l]+m)/we|0,h[l]=we===h[l]?0:h[l]%we;return m&&(h=[m].concat(h),++x),S(u,h,x)},s.precision=s.sd=function(u,l){var f,P,m,w=this;if(u!=null&&u!==!!u)return K(u,1,re),l==null?l=a:K(l,0,8),M(new T(w),u,l);if(!(f=w.c))return null;if(m=f.length-1,P=m*z+1,m=f[m]){for(;m%10==0;m/=10,P--);for(m=f[0];m>=10;m/=10,P++);}return u&&w.e+1>P&&(P=w.e+1),P},s.shiftedBy=function(u){return K(u,-mn,mn),this.times("1e"+u)},s.squareRoot=s.sqrt=function(){var u,l,f,P,m,w=this,x=w.c,h=w.s,y=w.e,v=o+4,E=new T("0.5");if(h!==1||!x||!x[0])return new T(!h||h<0&&(!x||x[0])?NaN:x?w:1/0);if(h=Math.sqrt(+N(w)),h==0||h==1/0?(l=me(x),(l.length+y)%2==0&&(l+="0"),h=Math.sqrt(+l),y=ge((y+1)/2)-(y<0||y%2),h==1/0?l="5e"+y:(l=h.toExponential(),l=l.slice(0,l.indexOf("e")+1)+y),f=new T(l)):f=new T(h+""),f.c[0]){for(y=f.e,h=y+v,h<3&&(h=0);;)if(m=f,f=E.times(m.plus(t(w,m,v,1))),me(m.c).slice(0,h)===(l=me(f.c)).slice(0,h))if(f.e<y&&--h,l=l.slice(h-3,h+1),l=="9999"||!P&&l=="4999"){if(!P&&(M(m,m.e+o+2,0),m.times(m).eq(w))){f=m;break}v+=4,h+=4,P=1}else{(!+l||!+l.slice(1)&&l.charAt(0)=="5")&&(M(f,f.e+o+2,1),u=!f.times(f).eq(w));break}}return M(f,f.e+o+1,a,u)},s.toExponential=function(u,l){return u!=null&&(K(u,0,re),u++),j(this,u,l,1)},s.toFixed=function(u,l){return u!=null&&(K(u,0,re),u=u+this.e+1),j(this,u,l)},s.toFormat=function(u,l,f){var P,m=this;if(f==null)u!=null&&l&&typeof l=="object"?(f=l,l=null):u&&typeof u=="object"?(f=u,u=l=null):f=O;else if(typeof f!="object")throw Error(ce+"Argument not an object: "+f);if(P=m.toFixed(u,l),m.c){var w,x=P.split("."),h=+f.groupSize,y=+f.secondaryGroupSize,v=f.groupSeparator||"",E=x[0],$=x[1],R=m.s<0,F=R?E.slice(1):E,D=F.length;if(y&&(w=h,h=y,y=w,D-=w),h>0&&D>0){for(w=D%h||h,E=F.substr(0,w);w<D;w+=h)E+=v+F.substr(w,h);y>0&&(E+=v+F.slice(w)),R&&(E="-"+E)}P=$?E+(f.decimalSeparator||"")+((y=+f.fractionGroupSize)?$.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(f.fractionGroupSeparator||"")):$):E}return(f.prefix||"")+P+(f.suffix||"")},s.toFraction=function(u){var l,f,P,m,w,x,h,y,v,E,$,R,F=this,D=F.c;if(u!=null&&(h=new T(u),!h.isInteger()&&(h.c||h.s!==1)||h.lt(i)))throw Error(ce+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+N(h));if(!D)return new T(F);for(l=new T(i),v=f=new T(i),P=y=new T(i),R=me(D),w=l.e=R.length-F.e-1,l.c[0]=yn[(x=w%z)<0?z+x:x],u=!u||h.comparedTo(l)>0?w>0?l:v:h,x=b,b=1/0,h=new T(R),y.c[0]=0;E=t(h,l,0,1),m=f.plus(E.times(P)),m.comparedTo(u)!=1;)f=P,P=m,v=y.plus(E.times(m=v)),y=m,l=h.minus(E.times(m=l)),h=m;return m=t(u.minus(f),P,0,1),y=y.plus(m.times(v)),f=f.plus(m.times(P)),y.s=v.s=F.s,w=w*2,$=t(v,P,w,a).minus(F).abs().comparedTo(t(y,f,w,a).minus(F).abs())<1?[v,P]:[y,f],b=x,$},s.toNumber=function(){return+N(this)},s.toPrecision=function(u,l){return u!=null&&K(u,1,re),j(this,u,l,2)},s.toString=function(u){var l,f=this,P=f.s,m=f.e;return m===null?P?(l="Infinity",P<0&&(l="-"+l)):l="NaN":(u==null?l=m<=c||m>=p?Lt(me(f.c),m):$e(me(f.c),m,"0"):u===10&&B?(f=M(new T(f),o+m+1,a),l=$e(me(f.c),f.e,"0")):(K(u,2,C.length,"Base"),l=n($e(me(f.c),m,"0"),10,u,P,!0)),P<0&&f.c[0]&&(l="-"+l)),l},s.valueOf=s.toJSON=function(){return N(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,e!=null&&T.set(e),T}function ge(e){var t=e|0;return e>0||e===t?t:t-1}function me(e){for(var t,n,r=1,s=e.length,i=e[0]+"";r<s;){for(t=e[r++]+"",n=z-t.length;n--;t="0"+t);i+=t}for(s=i.length;i.charCodeAt(--s)===48;);return i.slice(0,s+1||1)}function He(e,t){var n,r,s=e.c,i=t.c,o=e.s,a=t.s,c=e.e,p=t.e;if(!o||!a)return null;if(n=s&&!s[0],r=i&&!i[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=c==p,!s||!i)return r?0:!s^n?1:-1;if(!r)return c>p^n?1:-1;for(a=(c=s.length)<(p=i.length)?c:p,o=0;o<a;o++)if(s[o]!=i[o])return s[o]>i[o]^n?1:-1;return c==p?0:c>p^n?1:-1}function K(e,t,n,r){if(e<t||e>n||e!==ye(e))throw Error(ce+(r||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function St(e){var t=e.c.length-1;return ge(e.e/z)==t&&e.c[t]%2!=0}function Lt(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function $e(e,t,n){var r,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(r=e.length,++t>r){for(s=n,t-=r;--t;s+=n);e+=s}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Sr=ei();const nc="phalcon.blocksec.com/explorer",rc="sepolia",sc="sepolia.";function Lr(e,t){let n=new Sr(e.toString()).div(new Sr(10).pow(t)),r="";return n.gt(1e6)?(n=n.div(1e6),r="M"):n.gt(1e3)&&(n=n.div(1e3),r="K"),`${n.dp(2).toString()}${r}`}function ct(e){return`https://${sc}etherscan.io/address/${encodeURIComponent(e)}`}function Dr(e){return`https://${nc}/tx/${rc}/${encodeURIComponent(e)}`}function Wt(e,t=8){return e.length<=t+2?e:`0x${e.slice(2,8)}..${e.slice(-6)}`}function Gr(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function zr(e){let t;return{c(){t=Z("div"),this.h()},l(n){t=Y(n,"DIV",{class:!0}),te(t).forEach(V),this.h()},h(){H(t,"class","digit svelte-8cii54"),Gt(t,"background-position",Ur(e[3],e[1]).map(Hr).join(" "))},m(n,r){oe(n,t,r)},p(n,r){r&1&&Gt(t,"background-position",Ur(n[3],n[1]).map(Hr).join(" "))},d(n){n&&V(t)}}}function ic(e){let t,n=zt(String(e[0])),r=[];for(let s=0;s<n.length;s+=1)r[s]=zr(Gr(e,n,s));return{c(){t=Z("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0});var i=te(t);for(let o=0;o<r.length;o+=1)r[o].l(i);i.forEach(V),this.h()},h(){H(t,"class","component svelte-8cii54")},m(s,i){oe(s,t,i);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null)},p(s,[i]){if(i&1){n=zt(String(s[0]));let o;for(o=0;o<n.length;o+=1){const a=Gr(s,n,o);r[o]?r[o].p(a,i):(r[o]=zr(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:dr,o:dr,d(s){s&&V(t),Qr(r,s)}}}function Ur(e,t){const n=parseInt(t,16)%16;return[n%4*-20,Math.floor(n/4)*-25]}const Hr=e=>`${e}px`;function oc(e,t,n){let{value:r=""}=t;return e.$$set=s=>{"value"in s&&n(0,r=s.value)},[r]}class ac extends Yr{constructor(t){super(),Kr(this,t,oc,ic,Zr,{value:0})}}function qr(e,t,n){const r=e.slice();return r[2]=t[n],r}function Vr(e){let t,n,r,s=Wt(e[2].claimTx)+"",i,o;return{c(){t=Z("div"),n=ve("Claimed @ "),r=Z("a"),i=ve(s),this.h()},l(a){t=Y(a,"DIV",{class:!0});var c=te(t);n=Pe(c,"Claimed @ "),r=Y(c,"A",{href:!0,target:!0,class:!0});var p=te(r);i=Pe(p,s),p.forEach(V),c.forEach(V),this.h()},h(){H(r,"href",o=Dr(e[2].claimTx)),H(r,"target","_blank"),H(r,"class","svelte-idbbbn"),H(t,"class","svelte-idbbbn")},m(a,c){oe(a,t,c),U(t,n),U(t,r),U(r,i)},p(a,c){c&1&&s!==(s=Wt(a[2].claimTx)+"")&&Ze(i,s),c&1&&o!==(o=Dr(a[2].claimTx))&&H(r,"href",o)},d(a){a&&V(t)}}}function Wr(e){let t,n='<img src="dancing_baby.gif" class="svelte-idbbbn"/> <div class="text svelte-idbbbn">CLAIMED!</div>';return{c(){t=Z("div"),t.innerHTML=n,this.h()},l(r){t=Y(r,"DIV",{class:!0,"data-svelte-h":!0}),Je(t)!=="svelte-e0yj6v"&&(t.innerHTML=n),this.h()},h(){H(t,"class","claimed-stamp svelte-idbbbn")},m(r,s){oe(r,t,s)},d(r){r&&V(t)}}}function Xr(e){let t,n,r,s,i,o,a=e[2].name+"",c,p,d,b,g,I,A,O=e[2].id+"",C,B,T,j,_=Lr(e[2].bountyTokenAmount,e[2].bountyTokenDecimals)+"",S,M,N,u=(e[2].bountyTokenName??"???")+"",l,f,P,m,w,x,h=Wt(e[2].verifierAddress)+"",y,v,E,$,R,F=e[2].claimTx&&Vr(e),D=e[2].claimTx&&Wr();return{c(){t=Z("div"),n=Z("div"),r=Z("div"),s=se(),i=Z("div"),o=Z("div"),c=ve(a),p=se(),d=Z("div"),b=se(),g=Z("div"),I=Z("div"),A=ve("ID: "),C=ve(O),B=se(),T=Z("div"),j=ve("Bounty: "),S=ve(_),M=se(),N=Z("a"),l=ve(u),P=se(),m=Z("div"),w=ve("Verifier: "),x=Z("a"),y=ve(h),E=se(),F&&F.c(),$=se(),D&&D.c(),R=se(),this.h()},l(G){t=Y(G,"DIV",{class:!0});var q=te(t);n=Y(q,"DIV",{class:!0});var X=te(n);r=Y(X,"DIV",{class:!0}),te(r).forEach(V),X.forEach(V),s=ie(q),i=Y(q,"DIV",{class:!0});var J=te(i);o=Y(J,"DIV",{class:!0});var ee=te(o);c=Pe(ee,a),p=ie(ee),d=Y(ee,"DIV",{class:!0}),te(d).forEach(V),ee.forEach(V),b=ie(J),g=Y(J,"DIV",{class:!0});var pe=te(g);I=Y(pe,"DIV",{class:!0});var Ue=te(I);A=Pe(Ue,"ID: "),C=Pe(Ue,O),Ue.forEach(V),B=ie(pe),T=Y(pe,"DIV",{class:!0});var Ae=te(T);j=Pe(Ae,"Bounty: "),S=Pe(Ae,_),M=ie(Ae),N=Y(Ae,"A",{href:!0,target:!0,class:!0});var he=te(N);l=Pe(he,u),he.forEach(V),Ae.forEach(V),P=ie(pe),m=Y(pe,"DIV",{class:!0});var Oe=te(m);w=Pe(Oe,"Verifier: "),x=Y(Oe,"A",{href:!0,target:!0,class:!0});var ae=te(x);y=Pe(ae,h),ae.forEach(V),Oe.forEach(V),E=ie(pe),F&&F.l(pe),pe.forEach(V),$=ie(J),D&&D.l(J),J.forEach(V),R=ie(q),q.forEach(V),this.h()},h(){H(r,"class","logo svelte-idbbbn"),Gt(r,"background-image",`url(${e[2].image?encodeURIComponent(e[2].image):Jr})`),H(n,"class","left svelte-idbbbn"),H(d,"class","hr svelte-idbbbn"),H(o,"class","name-container svelte-idbbbn"),H(I,"class","svelte-idbbbn"),H(N,"href",f=ct(e[2].bountyTokenAddress)),H(N,"target","_blank"),H(N,"class","svelte-idbbbn"),H(T,"class","svelte-idbbbn"),H(x,"href",v=ct(e[2].verifierAddress)),H(x,"target","_blank"),H(x,"class","svelte-idbbbn"),H(m,"class","svelte-idbbbn"),H(g,"class","details-container svelte-idbbbn"),H(i,"class","right svelte-idbbbn"),H(t,"class","bounty-card svelte-idbbbn")},m(G,q){oe(G,t,q),U(t,n),U(n,r),U(t,s),U(t,i),U(i,o),U(o,c),U(o,p),U(o,d),U(i,b),U(i,g),U(g,I),U(I,A),U(I,C),U(g,B),U(g,T),U(T,j),U(T,S),U(T,M),U(T,N),U(N,l),U(g,P),U(g,m),U(m,w),U(m,x),U(x,y),U(g,E),F&&F.m(g,null),U(i,$),D&&D.m(i,null),U(t,R)},p(G,q){q&1&&Gt(r,"background-image",`url(${G[2].image?encodeURIComponent(G[2].image):Jr})`),q&1&&a!==(a=G[2].name+"")&&Ze(c,a),q&1&&O!==(O=G[2].id+"")&&Ze(C,O),q&1&&_!==(_=Lr(G[2].bountyTokenAmount,G[2].bountyTokenDecimals)+"")&&Ze(S,_),q&1&&u!==(u=(G[2].bountyTokenName??"???")+"")&&Ze(l,u),q&1&&f!==(f=ct(G[2].bountyTokenAddress))&&H(N,"href",f),q&1&&h!==(h=Wt(G[2].verifierAddress)+"")&&Ze(y,h),q&1&&v!==(v=ct(G[2].verifierAddress))&&H(x,"href",v),G[2].claimTx?F?F.p(G,q):(F=Vr(G),F.c(),F.m(g,null)):F&&(F.d(1),F=null),G[2].claimTx?D||(D=Wr(),D.c(),D.m(i,null)):D&&(D.d(1),D=null)},d(G){G&&V(t),F&&F.d(),D&&D.d()}}}function uc(e){let t,n=`<img src="honeypause.png" class="logo svelte-idbbbn"/> <h1 class="title svelte-idbbbn">Welcome to HoneyPause.net!</h1> <p class="intro svelte-idbbbn">HoneyPause is a permissionless on-chain exploit bounty tied to a circuit breaker. Whitehats can and atomically <b class="svelte-idbbbn">prove</b> a smart contract exploit <i class="svelte-idbbbn">on-chain</i>, <b class="svelte-idbbbn">pause</b> the affected protocol, then <b class="svelte-idbbbn">collect</b> a bounty for it. Protocols opt into the system by registering a bounty on the smart contract. The entire system is permissionless, non-custodial, and free! See the github for more info on how to participate.</p> <div class="links svelte-idbbbn"><a target="_blank" href="https://github.com/merklejerk/honeypause" class="svelte-idbbbn">Github</a> |
        <a target="_blank" href="." class="svelte-idbbbn">Sitemap</a> |
        <a target="_blank" href="${ct(Sn)}" class="svelte-idbbbn">Contract</a> |
        <a target="_blank" href="https://twitter.com/_SEAL_Org" class="svelte-idbbbn">Guestbook</a></div>`,r,s,i,o,a='<div class="title svelte-idbbbn"><img src="explosion.gif" class="svelte-idbbbn"/><img src="bounties.gif" class="svelte-idbbbn"/><img src="explosion.gif" class="svelte-idbbbn"/></div>',c,p,d,b,g,I,A,O,C,B='<div class="browser-button netscape svelte-idbbbn"></div>',T,j,_,S,M,N,u='<div class="browser-button ie svelte-idbbbn"></div>',l,f,P='Contact the <a href="https://github.com/merklejerk/honeypause/issues" target="_blank" style="margin-left: 0.5ex;" class="svelte-idbbbn">@Webmaster</a>.',m,w=zt(e[0]),x=[];for(let h=0;h<w.length;h+=1)x[h]=Xr(qr(e,w,h));return S=new ac({props:{value:e[1]}}),{c(){t=Z("div"),t.innerHTML=n,r=se(),s=Z("hr"),i=se(),o=Z("div"),o.innerHTML=a,c=se(),p=Z("div"),d=Z("div");for(let h=0;h<x.length;h+=1)x[h].c();b=se(),g=Z("hr"),I=se(),A=Z("div"),O=Z("div"),C=Z("a"),C.innerHTML=B,T=se(),j=Z("div"),_=ve(`Page views
            `),ni(S.$$.fragment),M=se(),N=Z("a"),N.innerHTML=u,l=se(),f=Z("div"),f.innerHTML=P,this.h()},l(h){t=Y(h,"DIV",{class:!0,"data-svelte-h":!0}),Je(t)!=="svelte-112mmiq"&&(t.innerHTML=n),r=ie(h),s=Y(h,"HR",{class:!0}),i=ie(h),o=Y(h,"DIV",{class:!0,"data-svelte-h":!0}),Je(o)!=="svelte-18e27ru"&&(o.innerHTML=a),c=ie(h),p=Y(h,"DIV",{class:!0});var y=te(p);d=Y(y,"DIV",{class:!0});var v=te(d);for(let F=0;F<x.length;F+=1)x[F].l(v);v.forEach(V),y.forEach(V),b=ie(h),g=Y(h,"HR",{class:!0}),I=ie(h),A=Y(h,"DIV",{class:!0});var E=te(A);O=Y(E,"DIV",{class:!0});var $=te(O);C=Y($,"A",{href:!0,class:!0,"data-svelte-h":!0}),Je(C)!=="svelte-wt4wue"&&(C.innerHTML=B),T=ie($),j=Y($,"DIV",{class:!0});var R=te(j);_=Pe(R,`Page views
            `),ri(S.$$.fragment,R),R.forEach(V),M=ie($),N=Y($,"A",{href:!0,class:!0,"data-svelte-h":!0}),Je(N)!=="svelte-h8n6nc"&&(N.innerHTML=u),$.forEach(V),l=ie(E),f=Y(E,"DIV",{class:!0,"data-svelte-h":!0}),Je(f)!=="svelte-1p2mlf3"&&(f.innerHTML=P),E.forEach(V),this.h()},h(){H(t,"class","top svelte-idbbbn"),H(s,"class","svelte-idbbbn"),H(o,"class","content-header svelte-idbbbn"),H(d,"class","svelte-idbbbn"),H(p,"class","bounties svelte-idbbbn"),H(g,"class","svelte-idbbbn"),H(C,"href","https://opera.com"),H(C,"class","svelte-idbbbn"),H(j,"class","views svelte-idbbbn"),H(N,"href","https://brave.com"),H(N,"class","svelte-idbbbn"),H(O,"class","svelte-idbbbn"),H(f,"class","svelte-idbbbn"),H(A,"class","footer svelte-idbbbn")},m(h,y){oe(h,t,y),oe(h,r,y),oe(h,s,y),oe(h,i,y),oe(h,o,y),oe(h,c,y),oe(h,p,y),U(p,d);for(let v=0;v<x.length;v+=1)x[v]&&x[v].m(d,null);oe(h,b,y),oe(h,g,y),oe(h,I,y),oe(h,A,y),U(A,O),U(O,C),U(O,T),U(O,j),U(j,_),si(S,j,null),U(O,M),U(O,N),U(A,l),U(A,f),m=!0},p(h,[y]){if(y&1){w=zt(h[0]);let v;for(v=0;v<w.length;v+=1){const E=qr(h,w,v);x[v]?x[v].p(E,y):(x[v]=Xr(E),x[v].c(),x[v].m(d,null))}for(;v<x.length;v+=1)x[v].d(1);x.length=w.length}},i(h){m||(ii(S.$$.fragment,h),m=!0)},o(h){oi(S.$$.fragment,h),m=!1},d(h){h&&(V(t),V(r),V(s),V(i),V(o),V(c),V(p),V(b),V(g),V(I),V(A)),Qr(x,h),ai(S)}}}const Jr="unknown.png";function cc(e,t,n){let r=Math.floor((Date.now()-new Date("2024-03-01").getTime())/3e4),s=[];return ti(async()=>{n(0,s=[...s,...await Yu()])}),[s,r]}class pc extends Yr{constructor(t){super(),Kr(this,t,cc,uc,Zr,{})}}export{k as B,lt as H,pc as P,Fe as a,ke as b,sn as c,Do as d,$t as e,Ln as g,pu as i,be as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
